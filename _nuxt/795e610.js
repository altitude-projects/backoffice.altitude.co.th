(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{406:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));r(15),r(18),r(32),r(33);var n=r(4),c=r(7),o=r(30),l=r(31),j=(r(21),r(25),r(3)),d=r(6),h=r(5);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.json=_(_({},t),{},{first_name_translations:t.first_name_translations||{en:"",th:""},last_name_translations:t.last_name_translations||{en:"",th:""},title_translations:t.title_translations||{en:"",th:""}})}var t,r,c,f,m,v,O;return Object(l.a)(e,[{key:"resetPassword",value:(O=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("patch",Object(d.e)(d.b,"reset_password"),{data:{user:this.json},headers:Object(d.c)(!0)});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"forgetPassword",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("patch",Object(d.e)(d.b,"forgot_password"),{data:{user:this.json},headers:Object(d.c)(!0)});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"save",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,(n=Object(h.e)(this.json,"user")).juristic_person="yes"===n.juristic_person,c=Object(h.n)({user:n,addresses:t},null,["profile_image"]),!this.json.id){e.next=10;break}return e.next=7,Object(d.d)("patch",Object(d.e)(d.a,"users/".concat(this.json.id)),{headers:Object(d.c)(!0),data:c});case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(d.d)("post",Object(d.e)(d.a,"users"),{headers:Object(d.c)(!0),data:c});case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"asInfoJson",value:function(){return{addresses:this.json.addresses,no:this.json.no,customer_code:this.json.customer_code||"-",customer_type:this.json.customer_type||"-",date_of_birth:this.json.date_of_birth?Object(h.g)(this.json.date_of_birth):"-",display_name:this.json.display_name?this.json.display_name:"-",email:this.json.email||"-",facebook:this.json.facebook||"-",full_name:this.fullName(),gender:this.json.gender,id:this.json.id,issue_at:this.json.issue_at||"-",juristic_person:this.json.juristic_person,language:this.json.language||"-",line:this.json.line||"-",marital_status:this.json.marital_status,mobile_primary:this.json.mobile_primary||"-",mobile_secondary:this.json.mobile_secondary||"-",nationality:Object(j.startCase)(this.json.nationality),passport_country:this.json.passport_country||"-",passport_number:this.json.passport_number||"-",profile_image:this.json.profile_image||null,race:Object(j.startCase)(this.json.race),telephone_oversea:this.json.telephone_oversea||"-",telephone:this.json.telephone||"-",thai_id_number:this.json.thai_id_number||"-",user_assets:this.json.user_assets,wechat:this.json.wechat||"-",whatsapp:this.json.whatsapp||"-"}}},{key:"fullName",value:function(){var e=[],t=[];return this.json.first_name_translations&&Object.keys(this.json.first_name_translations).length>0&&(e.push(this.json.first_name_translations.th),t.push(this.json.first_name_translations.en)),this.json.last_name_translations&&Object.keys(this.json.last_name_translations).length>0&&(e.push(this.json.last_name_translations.th),t.push(this.json.last_name_translations.en)),{th:e.join(" "),en:t.join(" ")}}}],[{key:"index",value:(f=Object(n.a)(regeneratorRuntime.mark((function t(r,n,c,o){var l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/user_assets")),{params:{page:n,per_page:c,search:o},headers:Object(d.c)(!0)});case 2:if(200!==(l=t.sent).status){t.next=6;break}return h=Object(j.map)(l.data.users,(function(t){return new e(t)})),t.abrupt("return",{users:h,total_count:l.data.total_count});case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)}))),function(e,t,r,n){return f.apply(this,arguments)})},{key:"show",value:(c=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"users/".concat(r)),{headers:Object(d.c)(!0)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new e(n.data.user));case 5:case"end":return t.stop()}}),t)}))),function(e){return c.apply(this,arguments)})},{key:"destroy",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"users/".concat(t)),{headers:Object(d.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"importUserAssets",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_user_assets")),{headers:Object(d.c)(!0,!0),data:n});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},409:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));r(21),r(15),r(18),r(32),r(33);var n=r(4),c=r(7),o=r(30),l=r(31),j=(r(16),r(25),r(3)),d=r(6),h=r(5);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.json=_(_({},t),{},{area:t.area||0})}var t,r,c,f,m,v,O;return Object(l.a)(e,[{key:"save",value:(O=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=Object(h.e)(this.json,"unit"),!this.json.id){e.next=8;break}return e.next=5,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(this.json.id)),{headers:Object(d.c)(!0),data:n});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets")),{headers:Object(d.c)(!0),data:n});case 10:r=e.sent;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"asTableJson",value:function(e,t){return{id:this.json.id,no:(t-1)*e+this.json.no,address_number:this.json.address_number||"-",asset_number:this.json.asset_number||"-",asset_model:this.json.asset_model||"-",asset_type_name:this.json.asset_type.name,building:this.json.building||"-",usable_area:this.json.usable_area||"-",area:this.json.area||"-",phase:this.json.phase||"-",floor:this.json.floor||"-",property_type:this.json.property_type||"-"}}}],[{key:"index",value:(v=Object(n.a)(regeneratorRuntime.mark((function t(r,n,c,o){var l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets")),{headers:Object(d.c)(!0),params:{search:n,page:c,per_page:o}});case 2:if(l=t.sent,h=Object(j.orderBy)(l.data.assets,["address_number"],["asc"]),200!==l.status){t.next=7;break}return h=Object(j.map)(h,(function(t,r){return t.no=r+1,new e(t)})),t.abrupt("return",{units:h,total_count:l.data.total_count});case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"show",value:(m=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets/").concat(n)),{headers:Object(d.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=5;break}return t.abrupt("return",new e(c.data.asset));case 5:case"end":return t.stop()}}),t)}))),function(e,t){return m.apply(this,arguments)})},{key:"destroy",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(r)),{headers:Object(d.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})},{key:"assetBillings",value:(c=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(r,"/asset_billings")),{headers:Object(d.c)(!0)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"importAssets",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_assets")),{headers:Object(d.c)(!0,!0),data:n});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"importAssetSupplies",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",r),c.append("images_zip_file",n),e.next=5,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_asset_supplies")),{headers:Object(d.c)(!0,!0),data:c});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}()},410:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(4),c=r(30),o=r(31),l=(r(25),r(3)),j=r(6),d=r(5),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.json=t}var t,r,h,f,_,m;return Object(o.a)(e,[{key:"save",value:(m=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=Object(d.e)(this.json,"unitType"),!this.json.id){e.next=8;break}return e.next=5,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/asset_types/").concat(this.json.id)),{headers:Object(j.c)(!0),data:n});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,Object(j.d)("post",Object(j.e)(j.a,"projects/".concat(t,"/asset_types")),{headers:Object(j.c)(!0),data:n});case 10:r=e.sent;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"activate",value:(_=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/asset_types/").concat(this.json.id,"/activate")),{headers:Object(j.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"inactivate",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/asset_types/").concat(this.json.id,"/inactivate")),{headers:Object(j.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})}],[{key:"unitTypeForSelect",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("get",Object(j.e)(j.a,"projects/".concat(t,"/asset_types/asset_types_for_select")),{headers:Object(j.c)(!0)});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data.asset_types);case 5:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"index",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)("get",Object(j.e)(j.a,"projects/".concat(r,"/asset_types")),{headers:Object(j.c)(!0)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",Object(l.map)(n.data.asset_types,(function(t,r){return t.no=r+1,new e(t,r)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})},{key:"show",value:(t=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)("get",Object(j.e)(j.a,"projects/".concat(r,"/asset_types/").concat(n)),{headers:Object(j.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=5;break}return t.abrupt("return",new e(c.data.asset_type));case 5:case"end":return t.stop()}}),t)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},415:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r(21),r(15),r(18),r(32),r(33);var n=r(4),c=r(7),o=r(30),l=r(31),j=(r(25),r(3)),d=r(6),h=r(406),f=r(5);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.json=m(m({},t),{},{asset_label:t.asset_label||"",asset_id:t.asset_id||"",is_billing_owner:t.is_billing_owner||""})}var t,r,c,_,v;return Object(l.a)(e,[{key:"save",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,"Yes"===(n=Object(j.cloneDeep)(this.json)).is_billing_owner?n.is_billing_owner=!0:n.is_billing_owner=!1,c=Object(f.e)(n,"userAsset"),!n.id){e.next=10;break}return e.next=7,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/").concat(n.id)),{headers:Object(d.c)(!0),data:c});case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/user_assets")),{headers:Object(d.c)(!0),data:c});case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"user",value:function(){return new h.a(this.json.user)}}],[{key:"roleForSelect",value:(_=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/roles_for_select")),{headers:Object(d.c)(!0)});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data.roles);case 5:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)})},{key:"userAssetForUser",value:(c=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/user_assets_for_user")),{params:{user_id:r},headers:Object(d.c)(!0)});case 2:if(200!==(n=e.sent).status){e.next=6;break}return c=Object(j.map)(n.data.user_assets,(function(e,t){return e.asset.no=t+1,e.asset.role&&(e.asset.role=Object(j.startCase)(e.json.role)),e.asset})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"show",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/user_assets/").concat(n)),{headers:Object(d.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=5;break}return t.abrupt("return",new e(c.data.user_asset));case 5:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)})},{key:"destroy",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/").concat(r)),{headers:Object(d.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},420:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(4),c=r(30),o=r(31),l=(r(25),r(3)),j=r(6),d=r(5),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.json=t,this.json.name_translations=t.name_translations||{en:"",th:""},this.json.description_translations=t.description_translations||{en:"",th:""},this.json.brand_translations=t.brand_translations||{en:"",th:""}}var t,r,h,f,_;return Object(o.a)(e,[{key:"save",value:(_=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,c=Object(d.e)(this.json,"assetSupply"),c=Object(d.n)(c,"asset_supply",["image"]),!this.json.id){e.next=9;break}return e.next=6,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id)),{data:c,headers:Object(j.c)(!0)});case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,Object(j.d)("post",Object(j.e)(j.a,"projects/".concat(t,"/assets/").concat(r,"/asset_supplies")),{data:c,headers:Object(j.c)(!0)});case 11:n=e.sent;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"activate",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id,"/activate")),{headers:Object(j.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"inactivate",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)("patch",Object(j.e)(j.a,"projects/".concat(t,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id,"/inactivate")),{headers:Object(j.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"asTableJson",value:function(){return{id:this.json.id,name_translations:this.json.name_translations||"-",supply_category:this.json.supply_category,description_translations:this.json.description_translations||"-",setup_datetime:this.json.setup_datetime?Object(d.g)(this.json.setup_datetime):"-",warranty_expired_datetime:this.json.warranty_expired_datetime?Object(d.g)(this.json.warranty_expired_datetime):"-",last_maintenance:this.json.maintenance_datetime?Object(d.g)(this.json.maintenance_datetime):"-",status:this.json.status||"-"}}}],[{key:"index",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)("get",Object(j.e)(j.a,"projects/".concat(r,"/assets/").concat(n,"/asset_supplies")),{headers:Object(j.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=5;break}return t.abrupt("return",Object(l.map)(c.data.asset_supplies,(function(t,r){return new e(t)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)})},{key:"show",value:(t=Object(n.a)(regeneratorRuntime.mark((function t(r,n,c){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)("get",Object(j.e)(j.a,"projects/".concat(r,"/assets/").concat(n,"/asset_supplies/").concat(c)),{headers:Object(j.c)(!0)});case 2:if(200!==(o=t.sent).status){t.next=5;break}return t.abrupt("return",new e(o.data.asset_supply));case 5:return t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}()},769:function(e,t,r){"use strict";r.r(t);var n=r(4),c=(r(25),r(16),r(3)),o=r(409),l=r(420),j=r(82),d=r(415),h=r(410),f={data:function(){return{object:null,isLoading:!0,visibleFormUserAsset:!1,isHighRise:!1,userAsset:{},currentTab:"members",devices:[],unitTypes:[]}},mounted:function(){this.fetchProject(),this.fetchUnitTypes(),this.fetchUnit(),this.$route.query.tab&&(this.currentTab=this.$route.query.tab,this.changeTab(this.$route.query.tab)),this.$route.params.unitId&&this.$store.commit("SET_MENU","units")},methods:{convertPrice:r(5).c,filterType:function(e){return e&&this.unitTypes.length>0?Object(c.find)(this.unitTypes,["value",e]).label:"-"},fetchUnitTypes:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.unitTypeForSelect(e.$route.params.projectId);case 2:r=t.sent,e.unitTypes=Object(c.map)(r,(function(e){return{label:e.name,value:e.id}}));case 4:case"end":return t.stop()}}),t)})))()},fetchProject:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.show(e.$route.params.projectId);case 2:r=t.sent,n=["townhouse","home_office","single_house"],e.isHighRise=!Object(c.includes)(n,r.json.project_type);case 5:case"end":return t.stop()}}),t)})))()},closeUserAsset:function(e){this.userAsset=new d.a,this.visibleFormUserAsset=!1,e&&this.fetchUnit()},fetchUnit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,o.a.show(e.$route.params.projectId,e.$route.params.unitId);case 3:e.object=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchUserAssets:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},changeTab:function(e){"devices"===e?this.fetchDevices():this.fetchUnit()},handleNewDevice:function(){this.$router.push({name:"projects-projectId-units-unitId-devices-new",params:{projectId:this.$route.params.projectId,unitId:this.$route.params.unitId}})},fetchDevices:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.index(e.$route.params.projectId,e.$route.params.unitId);case 2:r=t.sent,e.devices=Object(c.map)(r,(function(e){return e.asTableJson()}));case 4:case"end":return t.stop()}}),t)})))()},handleUserAssetModal:function(data){this.visibleFormUserAsset=!0,data&&(this.userAsset=new d.a(data),this.userAsset.json.asset_label=data.user["full_name_".concat(this.$store.state.language.value)],this.userAsset.length>0||this.userAsset.json.is_billing_owner&&this.userAsset.json.role?this.userAsset.json.is_billing_owner="Yes":!this.userAsset.json.is_billing_owner&&this.userAsset.json.role?this.userAsset.json.is_billing_owner="No":this.userAsset.json.is_billing_owner="")}}},_=r(9),component=Object(_.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoading?r("GLoading"):r("div",[r("GBreadCrumb",{attrs:{names:[e.object.json.asset_number||e.object.json.address_number]}}),e._v(" "),r("Card",{attrs:{"dis-hover":"",bordered:!1}},[r("Row",{attrs:{slot:"title",type:"flex",justify:"start"},slot:"title"},[r("Col",[r("p",[e._v("\n          "+e._s(e.$t("pages.unit")+" : ")+e._s(e.object.json.asset_number||e.object.json.address_number)+"\n        ")])])],1),e._v(" "),r("Row",{staticClass:"mb-15",attrs:{justify:"center",type:"flex"}},[r("Col",{attrs:{xs:24,sm:16}},[r("Card",{attrs:{"dis-hover":""}},[r("Icon",{staticClass:"cursor-pointer",attrs:{slot:"extra",type:"ios-create-outline",size:"20"},on:{click:function(t){return e.$router.push({name:"projects-projectId-units-unitId-edit",params:{projectId:e.$route.params.projectId,unitId:e.object.json.id}})}},slot:"extra"}),e._v(" "),e.isHighRise?r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.asset_number"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.asset_number||"-")+"\n            ")])],1):e._e(),e._v(" "),r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.address_number"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.address_number||"-")+"\n            ")])],1),e._v(" "),e.isHighRise?e._e():r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.phase"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.phase||"-")+"\n            ")])],1),e._v(" "),e.isHighRise?e._e():r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.asset_model"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.asset_model||"-")+"\n            ")])],1),e._v(" "),e.isHighRise?e._e():r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.area"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.area||"-")+"\n            ")])],1),e._v(" "),r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.usable_area"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.usable_area||"-")+"\n            ")])],1),e._v(" "),e.isHighRise?r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.building"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.building||"-")+"\n            ")])],1):e._e(),e._v(" "),e.isHighRise?r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.floor"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.floor||"-")+"\n            ")])],1):e._e(),e._v(" "),e.isHighRise?r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.code_type"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.code_type||"-")+"\n            ")])],1):e._e(),e._v(" "),r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e.isHighRise?r("span",[e._v(" "+e._s(e.$t("info.unit.label.room_type"))+": ")]):r("span",[e._v("\n                "+e._s(e.$t("info.unit.label.model_type"))+":\n              ")])]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.filterType(e.object.json.asset_type_id)||"-")+"\n            ")])],1),e._v(" "),r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.unit_price"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.convertPrice(e.object.json.unit_price)||"-")+"\n            ")])],1),e._v(" "),r("Row",{attrs:{type:"flex",gutter:16}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:6,sm:6,md:6}},[e._v("\n              "+e._s(e.$t("info.unit.label.area_for_maintenance_fee_calculation"))+":\n            ")]),e._v(" "),r("Col",{staticClass:"align-self-flex-end",staticStyle:{"word-wrap":"break-word"},attrs:{xs:14}},[e._v("\n              "+e._s(e.object.json.area_for_maintenance_fee_calculation||"-")+"\n            ")])],1)],1)],1)],1),e._v(" "),r("Tabs",{attrs:{type:"card",animated:!1},on:{"on-click":e.changeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[r("TabPane",{attrs:{label:e.$t("pages.user_assets"),name:"members"}},["members"===e.currentTab?r("GIndexPage",{attrs:{items:e.object.json.user_assets,component:"GUserAssetTable","extra-button":e.$t("button.add")+e.$t("pages.user_asset"),"hide-search":""},on:{handleExtraButton:e.handleUserAssetModal,reloadData:e.fetchUnit,extraFunctionWithObject:e.handleUserAssetModal}}):e._e()],1),e._v(" "),r("TabPane",{attrs:{label:e.$t("pages.devices"),name:"devices"}},["devices"===e.currentTab?r("GIndexPage",{attrs:{items:e.devices,component:"GDeviceTable","extra-button":e.$t("button.add")+e.$t("pages.devices"),"hide-search":""},on:{handleExtraButton:e.handleNewDevice,reloadData:e.fetchDevices}}):e._e()],1)],1),e._v(" "),r("Modal",{attrs:{"footer-hide":"",closable:!1,"mask-closable":!1,width:"800"},model:{value:e.visibleFormUserAsset,callback:function(t){e.visibleFormUserAsset=t},expression:"visibleFormUserAsset"}},[r("GUserAssetForm",{attrs:{object:e.userAsset,"unit-address":e.object.json.address_number,"user-assets":e.object.json.user_assets},on:{closeModal:e.closeUserAsset}})],1)],1)],1)}),[],!1,null,"d273f956",null);t.default=component.exports}}]);