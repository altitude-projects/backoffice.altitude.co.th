(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{423:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(21),n(15),n(18),n(32),n(33);var r=n(4),c=n(7),o=n(30),j=n(31),h=(n(25),n(3)),d=n(6),f=n(5);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,t),this.json=O(O({},e),{},{name_translations:e.name_translations||{en:"",th:""},description_translations:e.description_translations||{en:"",th:""}})}var e,n,c,l,v;return Object(j.a)(t,[{key:"save",value:(v=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,r=Object(f.e)(this.json,"tag"),r=Object(f.n)(r,"tag",["cover_image"]),!this.json.id){t.next=9;break}return t.next=6,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/tags/").concat(this.json.id)),{data:r,headers:Object(d.c)(!0)});case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(e,"/tags")),{data:r,headers:Object(d.c)(!0)});case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"activate",value:(l=Object(r.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/tags/").concat(n,"/activate")),{headers:Object(d.c)(!0)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)})},{key:"inactivate",value:(c=Object(r.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/tags/").concat(n,"/inactivate")),{headers:Object(d.c)(!0)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)})},{key:"isActive",value:function(){return"active"===this.json.status}},{key:"isInactive",value:function(){return"inactive"===this.json.status}},{key:"asTableJson",value:function(){return{id:this.json.id,name_translations_en:this.json.name_translations.en,name_translations_th:this.json.name_translations.th,active_blog_count:this.json.active_blog_count,key:this.json.key,status:this.json.status}}}],[{key:"index",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(n,"/tags")),{headers:Object(d.c)(!0),params:{search:r}});case 2:if(200!==(c=e.sent).status){e.next=5;break}return e.abrupt("return",Object(h.map)(c.data.tags,(function(e){return new t(e)})));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),function(t,e){return n.apply(this,arguments)})},{key:"show",value:(e=Object(r.a)(regeneratorRuntime.mark((function e(n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(n,"/tags/").concat(r)),{headers:Object(d.c)(!0)});case 2:if(200!==(c=e.sent).status){e.next=5;break}return e.abrupt("return",new t(c.data.tag));case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})}]),t}()},728:function(t,e,n){"use strict";n.r(e);var r=n(4),c=(n(108),n(25),n(3)),o=n(423),j={data:function(){return{tags:[],loading:!1,isLoading:!0}},mounted:function(){this.fetchTags()},methods:{fetchTags:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.isLoading=!0,t.tags=[],e.next=5,o.a.index(t.$route.params.projectId);case 5:n=e.sent,t.tags=Object(c.map)(n,(function(t){return t.asTableJson()})),t.isLoading=!1,t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},searchItem:function(t){this.search=t,this.fetchTags()}}},h=n(9),component=Object(h.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("GLoading"):n("Card",{attrs:{"dis-hover":"",bordered:!1}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("h3",[t._v("\n        "+t._s(t.$t("pages.categories"))+"\n      ")])]),t._v(" "),n("GIndexPage",{attrs:{items:t.tags,"show-sizer":"",loading:t.loading,"new-button-name":t.$t("pages.category"),component:"GCategoryTable","new-url":{name:"projects-projectId-categories-new",params:{projectId:t.$route.params.projectId}}},on:{reloadData:t.fetchTags,handleToSearchItem:t.searchItem}})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);