(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{532:function(e,t,l){var content=l(669);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(23).default)("3475e62e",content,!0,{sourceMap:!1})},668:function(e,t,l){"use strict";l(532)},669:function(e,t,l){var n=l(22)(!1);n.push([e.i,".title[data-v-3d607920]{font-weight:600;padding-top:10px;margin-bottom:10px;text-align:left!important}.file-style .v-btn--fab[data-v-3d607920]{width:35px;height:35px;top:-6px;right:0;position:absolute;z-index:1}.link-style[data-v-3d607920]{text-align:left}.link-style a[data-v-3d607920]{color:#1e88e5!important}.link-style a[data-v-3d607920]:hover{color:#1976d2!important;text-decoration:underline}.link-style .v-btn--fab.v-size--small[data-v-3d607920]{margin-left:10px;width:25px;height:25px;position:absolute;z-index:1}.item-background[data-v-3d607920]{display:inline-block;background:#000}.item-background[data-v-3d607920],.item-cover[data-v-3d607920]{position:absolute;top:0;bottom:0;left:10px;right:10px}.item-cover[data-v-3d607920]{height:65px;cursor:zoom-in;font-size:30px;background:rgba(0,0,0,.6);color:#fff;text-align:center}.video-preview[data-v-3d607920]{-o-object-fit:cover;object-fit:cover;cursor:zoom-in;position:relative;overflow:hidden;flex:1 0 auto;display:flex}img.main[data-v-3d607920]{border-radius:4px;height:100%;width:100%;-o-object-fit:scale-down;object-fit:scale-down}.images-list[data-v-3d607920]{margin-top:6px}img.preview[data-v-3d607920],video.preview[data-v-3d607920]{border-radius:4px;height:65px;width:100%;-o-object-fit:cover;object-fit:cover}img.active[data-v-3d607920]{filter:none;-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);cursor:pointer;transition:all .3s ease}img.inactive[data-v-3d607920]{filter:none;-webkit-filter:grayscale(0);-moz-filter:grayscale(0);-ms-filter:grayscale(0);-o-filter:grayscale(0)}.relative[data-v-3d607920]{position:relative}.inline-block[data-v-3d607920]{display:inline}[data-v-3d607920] .ivu-modal{top:30px}[data-v-3d607920] .carousel-modal .ivu-modal-close{right:0;top:0}[data-v-3d607920] .ivu-modal-body{padding-top:22px}",""]),e.exports=n},813:function(e,t,l){"use strict";l.r(t);l(303),l(83);var n=l(3),r=l(667),o={components:{media:l.n(r).a},props:{countImageList:{type:Number,default:function(){return 4}},notShowCountImage:{type:Boolean,default:!0},separateImage:{type:Boolean,default:!1},projectImages:{type:Boolean,default:!1},blogImages:{type:Boolean,default:!1},incidentImages:{type:Boolean,default:!1},hideTitle:{type:Boolean,default:!0},title:{type:String,default:""},singleImages:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}},width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"65px"}},columnSpan:{type:Number,default:function(){return 4}}},data:function(){return{visibleMultiple:!1,visibleSingle:!1,currentKey:0,currentType:"",files:[],imageList:[],defaultFailedImg:"/assets/failed_load_image.png"}},computed:{filterImages:function(){var e=this;return Object(n.filter)(Object(n.compact)(this.files),(function(t){return"delete"!==t.action&&"image"===e.fileType(t.content_type||t.type)}))},filterVideoFiles:function(){var e=this;return Object(n.filter)(Object(n.compact)(this.files),(function(t){return"delete"!==t.action&&"video"===e.fileType(t.content_type||t.type)}))},filterDocFiles:function(){var e=this;return Object(n.filter)(Object(n.compact)(this.files),(function(t){return"delete"!==t.action&&!Object(n.includes)(["video","image"],e.fileType(t.content_type||t.type))}))},filterDialogFiles:function(){return"image"===this.currentType?this.filterImages:"video"===this.currentType?this.filterVideoFiles:this.files},calculatedCarouselHeight:function(){return this.height?Number(this.height):"auto"},calculatedPreviewHeight:function(){var e=this.calculatedCarouselHeight;return"auto"===e?"65px":"".concat(e/6,"px")}},watch:{images:function(e,t){var l=this;e&&(this.separateImage?Object(n.forEach)(e,(function(e,t){e.index=t})):this.imageList=Object(n.filter)(e,(function(e,t){return t<=l.countImageList-1})),this.files=e)}},mounted:function(){var e=this,t=this.images;this.separateImage?Object(n.forEach)(t,(function(e,t){e.index=t})):this.imageList=Object(n.filter)(t,(function(t,l){return l<=e.countImageList-1})),this.files=t},methods:{handleIndexChanged:function(e){this.currentKey=e},fileType:function(e){return e?(e=e.split("/"))[0]:null},showSigleImage:function(){this.visibleSingle=!0},galleryAction:function(e,t){var l=this;Object(n.isNil)(e)||(this.currentKey=e),Object(n.isNil)(t)||(this.currentType=t),this.visibleMultiple=!0,setTimeout((function(){l.$refs.carouselDom.handleResize()}),1)},setDefaultFailedImg:function(e){e.target.src=this.defaultFailedImg}}},c=(l(668),l(9)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[e.separateImage?l("div",{staticClass:"pa-0"},[e.filterImages&&e.filterImages.length>0?l("div",{staticClass:"title"},[e.blogImages||e.incidentImages?l("span",[e._v(e._s(e.title))]):e.projectImages?l("span",[e._v(e._s(e.$t("info.project.label.project_image"))+":")]):e.hideTitle?l("span"):l("span",[e._v(e._s(e.$t("form.gallery.label.images"))+":")])]):l("h4",{staticClass:"mb-10"},[e._v(e._s(e.$t("form.gallery.label.videos"))+":")]),e._v(" "),l("Row",{attrs:{type:"flex"}},e._l(e.filterImages,(function(t,n){return l("Col",{key:"image_"+n,staticStyle:{"margin-right":"10px"}},[l("img",{style:{width:"80px",height:"80px",cursor:"zoom-in",objectFit:"cover"},attrs:{src:t.url},on:{error:e.setDefaultFailedImg,click:function(t){return e.galleryAction(n,"image")}}})])})),1),e._v(" "),e.filterVideoFiles&&e.filterVideoFiles.length>0?l("div",{staticClass:"title"},[e._v("\n      "+e._s(e.$t("form.gallery.label.videos"))+"\n    ")]):e._e(),e._v(" "),l("Row",{attrs:{gutter:20}},e._l(e.filterVideoFiles,(function(t,n){return l("Col",{key:"video_"+n,staticClass:"d-flex child-flex pt-0 pa-10 relative",attrs:{span:e.columnSpan}},["video"==e.fileType(t.content_type)?l("media",{staticClass:"video-preview",style:{width:e.width,height:e.height},attrs:{kind:"video",src:t.url,pause:""},on:{click:function(t){return e.galleryAction(n,"video")}}}):e._e()],1)})),1),e._v(" "),e.filterDocFiles&&e.filterDocFiles.length>0?l("div",{staticClass:"title"},[e._v("\n      "+e._s(e.$t("form.gallery.label.files"))+"\n    ")]):e._e(),e._v(" "),l("div",{attrs:{gutter:20}},e._l(e.filterDocFiles,(function(t){return l("div",{key:t.index,staticClass:"relative"},[l("Row",{staticClass:"link-style"},[l("Col",{attrs:{span:e.columnSpan}},[l("a",{attrs:{src:t.url||t.src}},[e._v(e._s(t.name||t.filename))])])],1)],1)})),0)],1):e.singleImages?l("Row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:10,type:"flex"}},[l("Col",{staticClass:"d-flex child-flex mt-5 mr-5 relative"},[l("div",[e.singleImages.url?l("img",{style:{width:"80px",height:"80px",cursor:"zoom-in",objectFit:"cover"},attrs:{src:e.singleImages.url},on:{error:e.setDefaultFailedImg,click:function(t){return e.showSigleImage()}}}):e._e()])])],1):l("Row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:20,type:"flex"}},e._l(e.imageList,(function(t,n){return l("Col",{key:"item_"+n,staticClass:"d-flex child-flex mt-5 mr-5 relative"},["video"==e.fileType(t.content_type)?l("div",{staticClass:"inline-block"},[l("div",{staticClass:"item-background"}),e._v(" "),l("media",{style:{width:e.width,height:e.height,cursor:"zoom-in",position:"relative",overflow:"hidden",flex:"1 0 auto",width:"100%",display:"flex"},attrs:{kind:"video",src:t.url,pause:""},on:{click:function(t){return e.galleryAction(n)}}}),e._v(" "),n!==e.countImageList-1||e.notShowCountImage?e._e():l("h1",{staticClass:"item-cover",on:{click:function(t){return e.galleryAction(n)}}},[e.files.length-e.countImageList!=0?l("span",{staticStyle:{"z-index":"999"}},[e._v("\n            "+e._s(e.files.length-e.countImageList)+"+\n          ")]):l("span")])],1):l("div",[t.url?l("img",{style:{width:e.width,height:e.height,cursor:"zoom-in",objectFit:"cover"},attrs:{src:t.url},on:{error:e.setDefaultFailedImg,click:function(t){return e.galleryAction(n)}}}):e._e(),e._v(" "),n!==e.countImageList-1||e.notShowCountImage?e._e():l("h6",{staticClass:"item-cover",on:{click:function(t){return e.galleryAction(n)}}},[e.files.length-e.countImageList!=0?l("span",{staticStyle:{"vertical-align":"middle"}},[e._v("\n            "+e._s(e.files.length-e.countImageList)+"+\n          ")]):l("span")])])])})),1),e._v(" "),l("Modal",{attrs:{"max-width":"600px","footer-hide":"","mask-closable":!1},model:{value:e.visibleSingle,callback:function(t){e.visibleSingle=t},expression:"visibleSingle"}},[l("div",[l("img",{staticClass:"main",attrs:{src:e.singleImages.url,height:"500px"},on:{error:e.setDefaultFailedImg}})])]),e._v(" "),l("Modal",{attrs:{"class-name":"carousel-modal","max-width":"600px","footer-hide":"","mask-closable":!1},model:{value:e.visibleMultiple,callback:function(t){e.visibleMultiple=t},expression:"visibleMultiple"}},[l("Carousel",{ref:"carouselDom",attrs:{"radius-dot":!0,height:500,loop:"",dots:"outside",arrow:"always"},model:{value:e.currentKey,callback:function(t){e.currentKey=t},expression:"currentKey"}},e._l(e.filterDialogFiles,(function(t,n){return l("CarouselItem",{key:n},["image"==e.fileType(t.content_type)?l("img",{staticClass:"main",attrs:{src:t.url,height:"500px"},on:{error:e.setDefaultFailedImg}}):e._e(),e._v(" "),"video"==e.fileType(t.content_type)?l("div",{staticClass:"text-center"},[l("media",{style:{width:e.width,height:"500px",position:"relative",overflow:"hidden",objectFit:"scale-down",width:"100%"},attrs:{kind:"video",controls:!0,src:t.url,pause:""}})],1):e._e()])})),1),e._v(" "),e.filterDialogFiles.length>0?l("Row",{staticClass:"images-list",attrs:{gutter:5,type:"flex"}},e._l(e.filterDialogFiles,(function(t,n){return l("Col",{key:n,attrs:{span:4}},["image"==e.fileType(t.content_type)?l("img",{class:{preview:!0,active:e.currentKey!==n,inactive:e.currentKey===n},style:{height:e.calculatedPreviewHeight},attrs:{src:t.url,alt:""},on:{error:e.setDefaultFailedImg,click:function(t){return e.handleIndexChanged(n)}}}):e._e(),e._v(" "),"video"==e.fileType(t.content_type)?l("div",{staticClass:"text-center",on:{click:function(t){return e.handleIndexChanged(n)}}},[l("media",{class:{preview:!0,active:e.currentKey!==n,inactive:e.currentKey===n},style:{height:e.calculatedPreviewHeight},attrs:{kind:"video",controls:!0,src:t.url,pause:""}})],1):e._e()])})),1):e._e()],1)],1)}),[],!1,null,"3d607920",null);t.default=component.exports}}]);