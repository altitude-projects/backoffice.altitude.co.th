(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{420:function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var n=r(4),c=r(30),o=r(31),l=(r(25),r(3)),d=r(6),v=r(5),_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,t),this.json=e,this.json.name_translations=e.name_translations||{en:"",th:""},this.json.description_translations=e.description_translations||{en:"",th:""},this.json.brand_translations=e.brand_translations||{en:"",th:""}}var e,r,_,m,f;return Object(o.a)(t,[{key:"save",value:(f=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,c=Object(v.e)(this.json,"assetSupply"),c=Object(v.n)(c,"asset_supply",["image"]),!this.json.id){t.next=9;break}return t.next=6,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id)),{data:c,headers:Object(d.c)(!0)});case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(e,"/assets/").concat(r,"/asset_supplies")),{data:c,headers:Object(d.c)(!0)});case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"activate",value:(m=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id,"/activate")),{headers:Object(d.c)(!0)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return m.apply(this,arguments)})},{key:"inactivate",value:(_=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(e,"/assets/").concat(r,"/asset_supplies/").concat(this.json.id,"/inactivate")),{headers:Object(d.c)(!0)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return _.apply(this,arguments)})},{key:"asTableJson",value:function(){return{id:this.json.id,name_translations:this.json.name_translations||"-",supply_category:this.json.supply_category,description_translations:this.json.description_translations||"-",setup_datetime:this.json.setup_datetime?Object(v.g)(this.json.setup_datetime):"-",warranty_expired_datetime:this.json.warranty_expired_datetime?Object(v.g)(this.json.warranty_expired_datetime):"-",last_maintenance:this.json.maintenance_datetime?Object(v.g)(this.json.maintenance_datetime):"-",status:this.json.status||"-"}}}],[{key:"index",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets/").concat(n,"/asset_supplies")),{headers:Object(d.c)(!0)});case 2:if(200!==(c=e.sent).status){e.next=5;break}return e.abrupt("return",Object(l.map)(c.data.asset_supplies,(function(e,r){return new t(e)})));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),function(t,e){return r.apply(this,arguments)})},{key:"show",value:(e=Object(n.a)(regeneratorRuntime.mark((function e(r,n,c){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets/").concat(n,"/asset_supplies/").concat(c)),{headers:Object(d.c)(!0)});case 2:if(200!==(o=e.sent).status){e.next=5;break}return e.abrupt("return",new t(o.data.asset_supply));case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(t,r,n){return e.apply(this,arguments)})}]),t}()},510:function(t,e,r){var content=r(624);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("7451bd1d",content,!0,{sourceMap:!1})},623:function(t,e,r){"use strict";r(510)},624:function(t,e,r){var n=r(22)(!1);n.push([t.i,".image[data-v-1d345dc1]{border-radius:5px;width:160px;height:160px;-o-object-fit:cover;object-fit:cover}",""]),t.exports=n},771:function(t,e,r){"use strict";r.r(e);var n=r(4),c=(r(25),r(3)),o=r(420),l={data:function(){return{loading:!1,device:{},deviceTypes:[{en:"Electric device",th:"เครื่องใช้ไฟฟ้า",value:"electric_device"},{en:"Furniture",th:"เฟอร์นิเจอร์",value:"furniture"},{en:"Sanitary ware",th:"สุขภัณฑ์",value:"sanitary_ware"}],defaultImage:"/assets/no_available.png"}},computed:{language:function(){return this.$store.state.language.value}},mounted:function(){this.fetchDevice()},methods:{formatDate:r(5).g,supplyCategory:function(data){if(data){return Object(c.find)([{en:"Electric device",th:"เครื่องใช้ไฟฟ้า",value:"electric_device"},{en:"Furniture",th:"เฟอร์นิเจอร์",value:"furniture"},{en:"Sanitary ware",th:"สุขภัณฑ์",value:"sanitary_ware"}],["value",data])[this.language]}},fetchDevice:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,o.a.show(t.$route.params.projectId,t.$route.params.unitId,t.$route.params.deviceId);case 3:t.device=e.sent,t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()}}},d=(r(623),r(9)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.device&&t.device.json?r("div",[t.loading?r("GLoading"):r("div",[r("Card",{attrs:{bordered:!1,"dis-hover":"",padding:20}},[r("div",{attrs:{slot:"title"},slot:"title"},[r("p",[t._v(t._s(t.$t("pages.device")))])]),t._v(" "),r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{xs:24,sm:16}},[r("Card",{attrs:{"dis-hover":""}},[r("Icon",{staticClass:"cursor-pointer",attrs:{slot:"extra",type:"ios-create-outline",size:"20"},on:{click:function(e){return t.$router.push({name:"projects-projectId-units-unitId-devices-deviceId-edit",params:{projectId:t.$route.params.projectId,unitId:t.$route.params.unitId,deviceId:t.$route.params.deviceId}})}},slot:"extra"}),t._v(" "),r("Row",{staticClass:"mb-10 mt-10",attrs:{type:"flex",justify:"center",gutter:16}},[r("Col",{staticStyle:{"text-align":"center"},attrs:{xs:24,lg:10}},[r("img",{staticClass:"image",attrs:{src:t.device.json.image&&t.device.json.image.url?t.device.json.image.url:t.defaultImage}})]),t._v(" "),r("Col",{attrs:{xs:24,lg:12}},[r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.name"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.device.json.name_translations[t.language]||"-")+"\n                  ")])],1),t._v(" "),r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.type"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.supplyCategory(t.device.json.supply_category))+"\n                  ")])],1),t._v(" "),r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.details"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.device.json.description_translations[t.language]||"-")+"\n                  ")])],1),t._v(" "),r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.start_date"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.formatDate(t.device.json.setup_datetime))+"\n                  ")])],1),t._v(" "),r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.end_date"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.formatDate(t.device.json.warranty_expired_datetime))+"\n                  ")])],1),t._v(" "),r("Row",{attrs:{type:"flex"}},[r("Col",{staticClass:"text-right font-weight-bold",attrs:{xs:11,md:12}},[t._v("\n                    "+t._s(t.$t("form.device.label.last_maintenance"))+":\n                  ")]),t._v(" "),r("Col",{staticClass:"ml-10",staticStyle:{"word-wrap":"break-word"},attrs:{xs:10}},[t._v("\n                    "+t._s(t.formatDate(t.device.json.maintenance_datetime)||"-")+"\n                  ")])],1)],1)],1)],1)],1)],1)],1)],1)],1):t._e()}),[],!1,null,"1d345dc1",null);e.default=component.exports}}]);