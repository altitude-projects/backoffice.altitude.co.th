(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{408:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(21),n(15),n(18),n(32),n(33);var r=n(4),c=n(7),l=n(30),o=n(31),j=(n(303),n(16),n(25),n(3)),d=n(1),h=n.n(d),_=n(6),m=n(5);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=O(O({},t),{},{price_per_unit:t.price_per_unit?Object(m.m)(t.price_per_unit):""})}var t,n,c,d,f,y,v,x,w,k,B;return Object(o.a)(e,[{key:"save",value:(B=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,c=Object(m.e)(this.json,"otherBilling"),!this.json.id){e.next=8;break}return e.next=5,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/")),{data:c,headers:Object(_.c)(!0)});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,Object(_.d)("post",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/")),{data:c,headers:Object(_.c)(!0)});case 10:r=e.sent;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"generateWaterBill",value:(k=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,(l=Object(j.cloneDeep)(this.json)).billing_cycle=this.json.billing_cycle?h()(this.json.billing_cycle).unix():null,l.due_datetime=this.json.due_datetime?h()(this.json.due_datetime).unix():null,l.price_per_unit=this.json.price_per_unit?Number(this.json.price_per_unit):null,l.from_datetime=this.json.from_datetime?h()(this.json.from_datetime).unix():null,l.to_datetime=this.json.to_datetime?h()(this.json.to_datetime).unix():null,l=Object(j.pickBy)(l,j.isNil),e.next=10,Object(_.d)("post",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/generate_asset_billings")),{data:O({billing:l},r),headers:Object(_.c)(!0)});case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return k.apply(this,arguments)})},{key:"update",value:(w=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.e)(this.json,"billing"),e.next=3,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/").concat(this.json.id)),{data:{billing:r},headers:Object(_.c)(!0)});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"asTableJson",value:function(){return{asset:this.json.asset,asset_id:this.json.asset_id,address_number:this.json.asset?this.json.asset.address_number:"",asset_number:this.json.asset?this.json.asset.asset_number:"",building:this.json.asset?this.json.asset.building:"",floor:this.json.asset?this.json.asset.floor:"",usable_area:this.json.asset?Object(m.m)(this.json.asset.usable_area):"",area_for_maintenance_fee_calculation:this.json.asset?Object(m.m)(this.json.asset.area_for_maintenance_fee_calculation):"",asset_type:this.json.asset&&this.json.asset.asset_type?this.json.asset.asset_type.name:"",asset_model:this.json.asset&&this.json.asset.asset_model?this.json.asset.asset_model:"-",billing_cycle_month:this.json.billing_cycle?this.json.billing_cycle.month:"",actual_unit_price:this.json.asset?Object(m.c)(Object(m.m)(this.json.asset.area_for_maintenance_fee_calculation)*Object(m.m)(this.json.price_per_unit)):"",area:this.json.asset?Object(m.m)(this.json.asset.area):"",amount:this.json.amount?Object(m.c)(this.json.amount):"-",name:this.json.name,no:this.json.no,billing_cycle:this.json.billing_cycle?this.json.billing_cycle.name:null,billing_type_id:this.json.billing_type_id,created_at:this.json.created_at,from_datetime:Object(m.g)(this.json.from_datetime),from_datetime_invoice:Object(m.g)(this.json.from_datetime,"YYYY/MM/DD"),id:this.json.id,price_per_unit:this.json.price_per_unit?Object(m.c)(this.json.price_per_unit):"-",status:this.json.status,to_datetime:Object(m.g)(this.json.to_datetime),to_datetime_invoice:Object(m.g)(this.json.to_datetime,"YYYY/MM/DD"),total_price:Object(m.c)(this.json.total_price)||"-",unit:this.json.unit,payment_type:this.json.billing_cycle?this.json.billing_cycle.extra_detail_json.payment_calculation_by:"",previous_meter:Object(j.isNil)(this.json.previous_meter)?"-":this.json.previous_meter,current_meter:Object(j.isNil)(this.json.current_meter)?"-":this.json.current_meter,billing_type:this.json.billing_type,billing_owner:this.json.have_owner}}}],[{key:"typesIndex",value:(x=Object(r.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(n,"/billing_types")),{headers:Object(_.c)(!0)});case 2:if(200!==(r=t.sent).status){t.next=5;break}return t.abrupt("return",Object(j.map)(r.data.billing_types,(function(t){return new e(t)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)}))),function(e){return x.apply(this,arguments)})},{key:"index",value:(v=Object(r.a)(regeneratorRuntime.mark((function t(n,r,c){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(n,"/billing_types/").concat(r,"/billings/")),{params:{billing_cycle_name:c},headers:Object(_.c)(!0)});case 2:if(200!==(l=t.sent).status){t.next=5;break}return t.abrupt("return",Object(j.map)(l.data.billings,(function(t,n){return t.no=n+1,new e(t)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)}))),function(e,t,n){return v.apply(this,arguments)})},{key:"billingsByStatus",value:(y=Object(r.a)(regeneratorRuntime.mark((function t(n,r,c,l,o,d,h,m){var f,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(n,"/billing_types/").concat(r,"/billings/billings_by_status")),{params:{billing_cycle_name:c,status:l,query_date:o,page:d,per_page:h,search:m},headers:Object(_.c)(!0)});case 2:if(200!==(f=t.sent).status){t.next=6;break}return O=Object(j.map)(f.data.billings,(function(t){return new e(t)})),t.abrupt("return",{billings:O,total_count:f.data.total_count});case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)}))),function(e,t,n,r,c,l,o,j){return y.apply(this,arguments)})},{key:"billingsCountByStatus",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/billings_count_by_status")),{params:{billing_cycle_name:r,query_date:c},headers:Object(_.c)(!0)});case 2:if(200!==(l=e.sent).status){e.next=5;break}return e.abrupt("return",l.data.billings);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"updateBillings",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/update_billings")),{data:{billings:r},headers:Object(_.c)(!0)});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)}))),function(e,t,n){return d.apply(this,arguments)})},{key:"cancel",value:(c=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/").concat(r,"/cancel")),{headers:Object(_.c)(!0)});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"finalize",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/").concat(r,"/finalize")),{headers:Object(_.c)(!0)});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"finalizeBillings",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_types/").concat(n,"/billings/finalize_billings")),{params:{billing_ids:r},headers:Object(_.c)(!0)});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(21),n(15),n(18),n(32),n(33);var r=n(4),c=n(7),l=n(30),o=n(31),j=(n(16),n(25),n(3)),d=n(1),h=n.n(d),_=n(6),m=n(5);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=O(O({},t),{},{extra_detail_json:t.extra_detail_json||{price_per_unit:"",payment_calculation_by:"",asset_types:{}}}),this.json.extra_detail_json.price_per_unit=Object(m.m)(this.json.extra_detail_json.price_per_unit)}var t,n,c,d;return Object(o.a)(e,[{key:"generateBilling",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_cycles/").concat(n,"/generate_billing")),{data:{billing_cycle_id:n},headers:Object(_.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)})},{key:"save",value:(c=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,(r=Object(j.cloneDeep)(this.json)).from_date=h()(this.json.from_date).format("YYYY-MM-DD"),r.to_date=h()(this.json.to_date).format("YYYY-MM-DD"),!this.json.id){e.next=10;break}return e.next=7,Object(_.d)("patch",Object(_.e)(_.a,"projects/".concat(t,"/billing_cycles/").concat(this.json.id)),{data:{billing_cycle:r},headers:Object(_.c)(!0)});case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,Object(_.d)("post",Object(_.e)(_.a,"projects/".concat(t,"/billing_cycles")),{data:{billing_cycle:r},headers:Object(_.c)(!0)});case 12:n=e.sent;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"asTableJson",value:function(){return{id:this.json.id,name:this.json.name,project_id:this.json.project_id,to_date:this.json.to_date,from_date:this.json.from_date,month:this.json.month,extra_detail_json:this.json.extra_detail_json,price_per_unit:Object(m.c)(this.json.extra_detail_json.price_per_unit)||0}}}],[{key:"index",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(n,r){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(n,"/billing_cycles")),{params:{type:r},headers:Object(_.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=5;break}return t.abrupt("return",Object(j.map)(c.data.billing_cycles,(function(t){return new e(t)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})},{key:"billingCycleTypes",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("get",Object(_.e)(_.a,"projects/".concat(t,"/billing_cycles/billing_cycle_types")),{headers:Object(_.c)(!0)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.data);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()},754:function(e,t,n){"use strict";n.r(t);var r=n(4),c=(n(25),n(83),n(108),n(11),n(303),n(16),n(3)),l=n(1),o=n.n(l),j=n(408),d=n(5),h=n(84),_=n(419),m={data:function(){return{billing:{},billings:[],loading:!0,isLoading:!1,title:"",visibleBillForm:!1,visibleUpdateBillForm:!1,dataIsObject:!1,billingCycles:[],currentTab:"draft",totalPages:null,statusCounts:"",datetime:o()().format("yyyy-MM"),tabs:["draft","modified","ready","waiting_payment","paid","cancelled"],billingTypeComponents:{water_billing:"GBillingTable",maintenance_fee:"GMaintenanceFeeTable",other_billing:"GOtherBillingTable"},currentPage:1,pageSize:10,search:"",rowSelections:[]}},mounted:function(){this.isLoading=!0,this.$route.hash&&(this.currentTab=this.$route.hash.split("#")[1]),this.fetchBillingType()},methods:{searchItem:function(e){this.search=e,this.currentPage=1,this.fetchBillings()},fetchItems:function(e,t){this.currentPage=e,this.pageSize=t,this.fetchBillings()},fetchBillingType:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.typesIndex(e.$route.params.projectId);case 2:n=t.sent,e.title=Object(c.find)(n,(function(b){return b.json.id===e.$route.params.billingId})).json.key,r={water_billing:"WaterBillingCycle",maintenance_fee:"MaintenanceBillingCycle",other_billing:"OtherBillingCycle"},"other_billing"!==e.title&&e.fetchBillingCycles(r[e.title]),e.fetchBillings();case 7:case"end":return t.stop()}}),t)})))()},fetchBillings:function(e,t,n){var l=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var d,h,_,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l.loading=!0,d=t||l.currentTab,h=e||l.$route.query.billing_cycle_name,_=n||l.$route.query.query_date,l.$router.push({query:{billing_cycle_name:h,query_date:_},hash:"#".concat(d)}),_="other_billing"===l.title?o()(_).unix():"",!(h&&d||"other_billing"===l.title&&_)){r.next=11;break}return r.next=9,j.a.billingsByStatus(l.$route.params.projectId,l.$route.params.billingId,h,d,_,l.currentPage,l.pageSize,l.search);case 9:(m=r.sent)&&(l.billings=Object(c.map)(m.billings,(function(e,t){return e.json.no=(l.currentPage-1)*l.pageSize+t+1,e.asTableJson()})),l.fetchBillingsCountByStatus(h,_),l.totalPages=m.total_count);case 11:l.loading=!1,l.isLoading=!1;case 13:case"end":return r.stop()}}),r)})))()},fetchBillingsCountByStatus:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.billingsCountByStatus(n.$route.params.projectId,n.$route.params.billingId,e,t);case 2:c=r.sent,n.statusCounts=c;case 4:case"end":return r.stop()}}),r)})))()},fetchBillingCycles:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.index(t.$route.params.projectId,e);case 2:r=n.sent,t.billingCycles=Object(c.map)(r,(function(e){return e.json}));case 4:case"end":return n.stop()}}),n)})))()},generateBills:function(){this.visibleBillForm=!0},updateBills:function(data){if(data){this.dataIsObject=!0;var e=Object(c.cloneDeep)(data);e.price_per_unit=Object(d.b)(e.price_per_unit),e.amount=Object(d.b)(e.amount),e.total_price=Object(d.b)(e.total_price),this.billing=new j.a(e)}else this.dataIsObject=!1;this.visibleUpdateBillForm=this.billings.length>0},updateStatuses:function(data){var e=this;return new Promise((function(t){var n;e.$Modal.confirm({title:e.$t("messages.confirm"),content:e.$t("messages.update_status_billing"),okText:e.$t("button.yes"),cancelText:e.$t("button.no"),onCancel:function(){e.rowSelections=Object(c.cloneDeep)(data)},onOk:(n=Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(data.length>0)){t.next=12;break}if(n=[],n="water_billing"===e.title?Object(c.map)(data,(function(b){return!Object(c.isNaN)(Number(b.previous_meter))&&!Object(c.isNaN)(Number(b.current_meter))&&!Object(c.isNaN)(Object(d.b)(b.price_per_unit))})):"maintenance_fee"===e.title?Object(c.map)(data,(function(b){return!Object(c.isNaN)(Object(d.b)(b.price_per_unit))})):Object(c.map)(data,(function(b){return!(Object(c.isNaN)(Object(d.b)(b.price_per_unit))||Object(c.isNaN)(Object(d.b)(b.amount))||Object(c.isNil)(b.asset_id)||Object(c.isNil)(b.name)||Object(c.isNil)(b.from_datetime)||Object(c.isNil)(b.to_datetime))})),Object(c.includes)(n,!1)){t.next=11;break}return data=Object(c.map)(data,(function(e){return e.id})),t.next=7,j.a.finalizeBillings(e.$route.params.projectId,e.$route.params.billingId,data);case 7:t.sent.data.success&&(e.$Message.success({content:e.$t("pages.billing")+e.$t("messages.success"),duration:3}),e.fetchBillings()),t.next=12;break;case 11:e.$Message.error({content:e.$t("messages.fill_data"),duration:6});case 12:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})})}))},sortDatatable:function(e,t){var n=this,r=Object(c.orderBy)(this.billings,[function(data){return"total_price"===e?Object(d.b)(data[e]):data[e]||"".toLowerCase()}],[t]);this.billings=Object(c.map)(r,(function(data,e){return data.no=(n.currentPage-1)*n.pageSize+(e+1),data}))},exportExcel:function(){var e=o()(this.datetime).unix(),t="other_billing"===this.title?"OtherBillingCycle":"water_billing"===this.title?"WaterBillingCycle":"MaintenanceBillingCycle",n=Object(h.a)(),r=this.$route.params.projectId,c="".concat("https://altitudeapp.altitude.co.th","/api/v1/download/projects/").concat(r,"/billing_cycles/export_billing_excel?auth-token=").concat(n,"&type=").concat(t,"&query_date=").concat(e);window.open(c,"_blank")}}},f=n(9),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?n("GLoading"):e.isLoading?e._e():n("Card",{attrs:{"dis-hover":""}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("h3",[e._v("\n        "+e._s(e.title?e.$t("pages."+e.title):"")+"\n      ")])]),e._v(" "),n("GBillingDateTime",{attrs:{"billing-cycles":e.billingCycles},on:{reloadData:e.fetchBillings}}),e._v(" "),"other_billing"===e.title?n("GDateTime",{attrs:{datetime:e.datetime},on:{fetchDateTime:function(t){return e.fetchBillings(null,null,t)}}}):e._e(),e._v(" "),n("Tabs",{staticClass:"mt-10",attrs:{type:"card"},on:{"on-click":function(t){return e.fetchBillings(e.$route.query.billing_cycle_name)}},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.tabs,(function(t,r){return n("TabPane",{key:t+r,attrs:{label:e.$t("status."+t)+" ("+(e.statusCounts[t]||0)+")",name:t}},[e.currentTab!==t||e.loading?e._e():n("GIndexPage",{attrs:{items:e.billings,"show-sizer":"","search-by-api":"",loading:e.loading,"button-action-billings":["draft","modified","ready"].includes(t),"current-tab":e.currentTab,component:e.billingTypeComponents[e.title],"total-pages":e.totalPages,"disabled-update-bill":0===e.billings.length,"current-page":e.currentPage,"page-size":e.pageSize,"default-row-selection":e.rowSelections},on:{exportExcel:e.exportExcel,generateBills:e.generateBills,updateBills:e.updateBills,updateStatuses:e.updateStatuses,extraFunctionWithObject:e.updateBills,reloadData:e.fetchBillings,handleToSearchItem:e.searchItem,pageAndItemPerPage:e.fetchItems,sortBy:e.sortDatatable}})],1)})),1)],1),e._v(" "),n("Modal",{attrs:{"footer-hide":"",width:"500",closable:!1,"mask-closable":!1},model:{value:e.visibleBillForm,callback:function(t){e.visibleBillForm=t},expression:"visibleBillForm"}},[n("GGenerateBillingForm",{attrs:{title:e.title?e.$t("pages.generate_"+e.title):"","billing-type-key":e.title,"visible-modal":e.visibleBillForm},on:{closeModal:function(t){e.visibleBillForm=!1,e.fetchBillings()}}})],1),e._v(" "),n("Modal",{attrs:{"footer-hide":"",closable:!1,"mask-closable":!1,width:e.dataIsObject?"500":"1200"},model:{value:e.visibleUpdateBillForm,callback:function(t){e.visibleUpdateBillForm=t},expression:"visibleUpdateBillForm"}},[n("GUpdateBillingForm",{attrs:{title:e.title?e.$t("pages.update_"+e.title):"","billing-type-key":e.title,item:e.billing,items:e.billings,"data-is-object":e.dataIsObject},on:{closeModal:function(t){e.visibleUpdateBillForm=!1,e.fetchBillings()}}})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);