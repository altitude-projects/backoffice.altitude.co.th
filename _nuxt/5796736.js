(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{406:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));r(15),r(18),r(32),r(33);var n=r(4),o=r(7),l=r(30),c=r(31),m=(r(21),r(25),r(3)),d=r(6),f=r(5);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=h(h({},t),{},{first_name_translations:t.first_name_translations||{en:"",th:""},last_name_translations:t.last_name_translations||{en:"",th:""},title_translations:t.title_translations||{en:"",th:""}})}var t,r,o,_,j,v,y;return Object(c.a)(e,[{key:"resetPassword",value:(y=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("patch",Object(d.e)(d.b,"reset_password"),{data:{user:this.json},headers:Object(d.c)(!0)});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"forgetPassword",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("patch",Object(d.e)(d.b,"forgot_password"),{data:{user:this.json},headers:Object(d.c)(!0)});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"save",value:(j=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,(n=Object(f.e)(this.json,"user")).juristic_person="yes"===n.juristic_person,o=Object(f.n)({user:n,addresses:t},null,["profile_image"]),!this.json.id){e.next=10;break}return e.next=7,Object(d.d)("patch",Object(d.e)(d.a,"users/".concat(this.json.id)),{headers:Object(d.c)(!0),data:o});case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(d.d)("post",Object(d.e)(d.a,"users"),{headers:Object(d.c)(!0),data:o});case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"asInfoJson",value:function(){return{addresses:this.json.addresses,no:this.json.no,customer_code:this.json.customer_code||"-",customer_type:this.json.customer_type||"-",date_of_birth:this.json.date_of_birth?Object(f.g)(this.json.date_of_birth):"-",display_name:this.json.display_name?this.json.display_name:"-",email:this.json.email||"-",facebook:this.json.facebook||"-",full_name:this.fullName(),gender:this.json.gender,id:this.json.id,issue_at:this.json.issue_at||"-",juristic_person:this.json.juristic_person,language:this.json.language||"-",line:this.json.line||"-",marital_status:this.json.marital_status,mobile_primary:this.json.mobile_primary||"-",mobile_secondary:this.json.mobile_secondary||"-",nationality:Object(m.startCase)(this.json.nationality),passport_country:this.json.passport_country||"-",passport_number:this.json.passport_number||"-",profile_image:this.json.profile_image||null,race:Object(m.startCase)(this.json.race),telephone_oversea:this.json.telephone_oversea||"-",telephone:this.json.telephone||"-",thai_id_number:this.json.thai_id_number||"-",user_assets:this.json.user_assets,wechat:this.json.wechat||"-",whatsapp:this.json.whatsapp||"-"}}},{key:"fullName",value:function(){var e=[],t=[];return this.json.first_name_translations&&Object.keys(this.json.first_name_translations).length>0&&(e.push(this.json.first_name_translations.th),t.push(this.json.first_name_translations.en)),this.json.last_name_translations&&Object.keys(this.json.last_name_translations).length>0&&(e.push(this.json.last_name_translations.th),t.push(this.json.last_name_translations.en)),{th:e.join(" "),en:t.join(" ")}}}],[{key:"index",value:(_=Object(n.a)(regeneratorRuntime.mark((function t(r,n,o,l){var c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/user_assets")),{params:{page:n,per_page:o,search:l},headers:Object(d.c)(!0)});case 2:if(200!==(c=t.sent).status){t.next=6;break}return f=Object(m.map)(c.data.users,(function(t){return new e(t)})),t.abrupt("return",{users:f,total_count:c.data.total_count});case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)}))),function(e,t,r,n){return _.apply(this,arguments)})},{key:"show",value:(o=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"users/".concat(r)),{headers:Object(d.c)(!0)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new e(n.data.user));case 5:case"end":return t.stop()}}),t)}))),function(e){return o.apply(this,arguments)})},{key:"destroy",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"users/".concat(t)),{headers:Object(d.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"importUserAssets",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_user_assets")),{headers:Object(d.c)(!0,!0),data:n});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},409:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));r(21),r(15),r(18),r(32),r(33);var n=r(4),o=r(7),l=r(30),c=r(31),m=(r(16),r(25),r(3)),d=r(6),f=r(5);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=h(h({},t),{},{area:t.area||0})}var t,r,o,_,j,v,y;return Object(c.a)(e,[{key:"save",value:(y=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=Object(f.e)(this.json,"unit"),!this.json.id){e.next=8;break}return e.next=5,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(this.json.id)),{headers:Object(d.c)(!0),data:n});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets")),{headers:Object(d.c)(!0),data:n});case 10:r=e.sent;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"asTableJson",value:function(e,t){return{id:this.json.id,no:(t-1)*e+this.json.no,address_number:this.json.address_number||"-",asset_number:this.json.asset_number||"-",asset_model:this.json.asset_model||"-",asset_type_name:this.json.asset_type.name,building:this.json.building||"-",usable_area:this.json.usable_area||"-",area:this.json.area||"-",phase:this.json.phase||"-",floor:this.json.floor||"-",property_type:this.json.property_type||"-"}}}],[{key:"index",value:(v=Object(n.a)(regeneratorRuntime.mark((function t(r,n,o,l){var c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets")),{headers:Object(d.c)(!0),params:{search:n,page:o,per_page:l}});case 2:if(c=t.sent,f=Object(m.orderBy)(c.data.assets,["address_number"],["asc"]),200!==c.status){t.next=7;break}return f=Object(m.map)(f,(function(t,r){return t.no=r+1,new e(t)})),t.abrupt("return",{units:f,total_count:c.data.total_count});case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"show",value:(j=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/assets/").concat(n)),{headers:Object(d.c)(!0)});case 2:if(200!==(o=t.sent).status){t.next=5;break}return t.abrupt("return",new e(o.data.asset));case 5:case"end":return t.stop()}}),t)}))),function(e,t){return j.apply(this,arguments)})},{key:"destroy",value:(_=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(r)),{headers:Object(d.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)})},{key:"assetBillings",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/assets/").concat(r,"/asset_billings")),{headers:Object(d.c)(!0)});case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"importAssets",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),e.next=4,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_assets")),{headers:Object(d.c)(!0,!0),data:n});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"importAssetSupplies",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("file",r),o.append("images_zip_file",n),e.next=5,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/assets/import_asset_supplies")),{headers:Object(d.c)(!0,!0),data:o});case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}()},415:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r(21),r(15),r(18),r(32),r(33);var n=r(4),o=r(7),l=r(30),c=r(31),m=(r(25),r(3)),d=r(6),f=r(406),_=r(5);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.json=j(j({},t),{},{asset_label:t.asset_label||"",asset_id:t.asset_id||"",is_billing_owner:t.is_billing_owner||""})}var t,r,o,h,v;return Object(c.a)(e,[{key:"save",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,"Yes"===(n=Object(m.cloneDeep)(this.json)).is_billing_owner?n.is_billing_owner=!0:n.is_billing_owner=!1,o=Object(_.e)(n,"userAsset"),!n.id){e.next=10;break}return e.next=7,Object(d.d)("patch",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/").concat(n.id)),{headers:Object(d.c)(!0),data:o});case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(d.d)("post",Object(d.e)(d.a,"projects/".concat(t,"/user_assets")),{headers:Object(d.c)(!0),data:o});case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"user",value:function(){return new f.a(this.json.user)}}],[{key:"roleForSelect",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/roles_for_select")),{headers:Object(d.c)(!0)});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data.roles);case 5:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"userAssetForUser",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/user_assets_for_user")),{params:{user_id:r},headers:Object(d.c)(!0)});case 2:if(200!==(n=e.sent).status){e.next=6;break}return o=Object(m.map)(n.data.user_assets,(function(e,t){return e.asset.no=t+1,e.asset.role&&(e.asset.role=Object(m.startCase)(e.json.role)),e.asset})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"show",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)("get",Object(d.e)(d.a,"projects/".concat(r,"/user_assets/").concat(n)),{headers:Object(d.c)(!0)});case 2:if(200!==(o=t.sent).status){t.next=5;break}return t.abrupt("return",new e(o.data.user_asset));case 5:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)})},{key:"destroy",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("delete",Object(d.e)(d.a,"projects/".concat(t,"/user_assets/").concat(r)),{headers:Object(d.c)(!0)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},531:function(e,t,r){var content=r(666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("a06ef4fe",content,!0,{sourceMap:!1})},665:function(e,t,r){"use strict";r(531)},666:function(e,t,r){var n=r(22)(!1);n.push([e.i,".auto-complete-unit>>>.ivu-select-dropdown{max-height:300px!important}.white-space-normal{white-space:normal}",""]),e.exports=n},808:function(e,t,r){"use strict";r.r(t);r(21),r(15),r(18),r(32),r(33);var n=r(4),o=r(7),l=(r(11),r(25),r(3)),c=r(5),m=r(406),d=r(415),f=r(409);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={props:{isNew:{type:Boolean,default:!1}},data:function(){var e=this;return{formData:new m.a,userAsset:new d.a,isForeigner:"no",units:[],roles:[],addresses:[],loading:!1,isLoading:!0,phone:{},currentTab:"personalInfo",addressKey:{permanent:["permanent","permanent_oversea"],current:["current","current_oversea"]},personalInfo:function(t){return t("div",[t("span",e.$t("pages.personal_info"))])},identification:function(t){return t("div",[t("span",e.$t("pages.identification"))])},contact:function(t){return t("div",[t("span",e.$t("pages.resident_contact"))])},maritalStatus:[{key:"single"},{key:"married"},{key:"widowed"},{key:"married_with_nochildren"},{key:"divorced"},{key:"separated"},{key:"not_specified"}],address:{},setDefaultData:{current:!0,current_oversea:!0}}},computed:{projectType:function(){return!Object(l.includes)(["townhouse","home_office","single_house"],this.$store.state.project.project_type)},language:function(){return this.$store.state.language.value}},watch:{currentTab:function(e){var t=this;"identification"===e&&Object(l.forEach)(this.formData.json.addresses,(function(a){t.address[a.address_type]=a}))},isForeigner:function(){this.isNew?(this.$refs.form.fields[21].validateState="",this.$refs.form.fields[25].validateState=""):(this.$refs.form.fields[19].validateState="",this.$refs.form.fields[23].validateState="")},language:function(){this.$store.state.isSelectLanguage&&this.$nextTick((function(){this.$refs.form&&this.$refs.form.validate()}))}},mounted:function(){this.isNew?this.fetchRoleForSelect():this.fetchUser()},methods:{verifyIdCard:c.q,updateFormData:function(e){this.formData.json=h(h({},this.formData.json),e)},updatePhoneFormData:function(e){this.phone=h(h({},this.phone),e)},setAddressDefault:function(e){var t={};"permanent"===e?t=this.setDefaultData.current=!1:"permanent_oversea"===e&&(t=this.setDefaultData.current_oversea=!1),this.setDefaultData=Object(l.cloneDeep)(h(h({},this.setDefaultData),t))},updateAddressParams:function(data,e){var t=Object(l.some)(this.addresses,{address_type:e});Object(l.isEmpty)(this.addresses)||!t?this.addresses.push(h(h({},data),{address_type:e})):this.addresses=Object(l.map)(this.addresses,(function(a){return a.address_type&&a.address_type===e?h(h({},a),data):a}))},onSelect:function(e){var t=Object(l.find)(this.units,{label:e});this.formData.json.asset_id=t.value,this.formData.json.asset_label=t.label},fetchUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,m.a.show(e.$route.params.residentManagementId);case 3:r=t.sent,e.formData=r,e.isForeigner=e.formData.json.thai_id_number?"no":"yes",e.formData.json.juristic_person=e.formData.json.juristic_person?"yes":"no",e.formData.json.date_of_birth=Object(l.isEmpty)(e.formData.json.date_of_birth)?null:new Date(e.formData.json.date_of_birth),e.formData.json.issue_date=Object(l.isEmpty)(e.formData.json.issue_date)?null:new Date(e.formData.json.issue_date),e.formData.json.expire_date=Object(l.isEmpty)(e.formData.json.expire_date)?null:new Date(e.formData.json.expire_date),e.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},fetchRoleForSelect:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,d.a.roleForSelect(e.$route.params.projectId);case 3:r=t.sent,e.roles=r,e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},fetchAddess:function(e){var address={};if(address="current"===e?Object(l.find)(this.addresses,{address_type:"permanent"}):Object(l.find)(this.addresses,{address_type:"permanent_oversea"})){var t=this.address[e]={country:address.country,city:address.city,postal_code:address.postal_code,information:address.information};this.address=Object(l.cloneDeep)(h(h({},this.address),t))}},searchUnit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&e.length>2)){r.next=6;break}return t.units=[],r.next=4,f.a.index(t.$route.params.projectId,e);case 4:n=r.sent,t.units=Object(l.map)(n.units,(function(u){return{label:u.json.address_number,assetNumber:u.json.asset_number,address:u.json.address_number,floor:u.json.floor,building:u.json.building,value:u.json.id}}));case 6:case"end":return r.stop()}}),r)})))()},triggerErrorTab:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(l.snakeCase)(e);this[e]=r?function(e){return e("div",[e("span",{style:{color:"#ed4014"}},t.$t("pages."+n))])}:function(e){return e("div",[e("span",{},t.$t("pages."+n))])}},reformatPhoneNumber:function(){if(this.formData.json.mobile_primary){var e="".concat(this.phone.mobile_primary).concat(this.formData.json.mobile_primary);this.formData.json.mobile_primary=e}if(this.formData.json.mobile_secondary){var t="".concat(this.phone.mobile_secondary).concat(this.formData.json.mobile_secondary);this.formData.json.mobile_primary=t}if(this.formData.json.telephone){var r="".concat(this.phone.telephone).concat(this.formData.json.telephone);this.formData.json.telephone=r}if(this.formData.json.telephone_oversea){var n="".concat(this.phone.telephone_oversea).concat(this.formData.json.telephone_oversea);this.formData.json.telephone_oversea=n}},handleSubmit:function(){var e=this;return new Promise((function(t){e.$Modal.confirm({title:e.$t("messages.are_you_sure"),content:e.$t("messages.confirm_save"),okText:e.$t("button.yes"),cancelText:e.$t("button.no"),onOk:function(){e.checkEmptyData(e.formData.json)?e.$Message.error({content:e.$t("messages.fill_data"),duration:8}):e.submitForm()}})}))},checkEmptyData:function(data){return!!(Object(l.isEmpty)(data.language)||Object(l.isEmpty)(data.juristic_person)||Object(l.isEmpty)(data.customer_code)||this.isNew&&Object(l.isEmpty)(data.asset_label)||this.isNew&&Object(l.isEmpty)(data.role)||Object(l.isEmpty)(data.display_name)||Object(l.isEmpty)(data.customer_type)||("yes"===this.isForeigner?Object(l.isEmpty)(data.passport_number):Object(l.isEmpty)(data.thai_id_number))||Object(l.isEmpty)(data.email)||Object(l.isEmpty)(data.mobile_primary)||Object(l.isEmpty)(data.first_name_translations.en)||Object(l.isEmpty)(data.first_name_translations.th)||Object(l.isEmpty)(data.last_name_translations.en)||Object(l.isEmpty)(data.last_name_translations.th)||Object(l.isEmpty)(data.title_translations.en)||Object(l.isEmpty)(data.title_translations.th))},submitForm:function(){var e=this;this.isNew&&this.reformatPhoneNumber(),this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=25;break}return e.loading=!0,t.next=4,e.formData.save(e.addresses);case 4:if(!(n=t.sent).data||!n.data.success){t.next=21;break}if(e.isNew){t.next=11;break}e.$Message.success({content:e.$t("pages.users")+e.$t("messages.successfully_updated"),duration:3}),e.$router.push({name:"projects-projectId-resident_managements",params:{projectId:e.$route.params.projectId}}),t.next=19;break;case 11:return e.$Message.success({content:e.$t("pages.users")+e.$t("messages.successfully_created"),duration:3}),e.userAsset.json.user_id=n.data.user.id,e.userAsset.json.asset_id=e.formData.json.asset_id,e.userAsset.json.role=e.formData.json.role,t.next=17,e.userAsset.save(e.$route.params.projectId);case 17:(o=t.sent).data&&o.data.success&&e.$router.push({name:"projects-projectId-resident_managements",params:{projectId:e.$route.params.projectId}});case 19:t.next=23;break;case 21:e.loading=!1,e.$Message.error({content:n.data.error,duration:8});case 23:t.next=27;break;case 25:e.loading=!1,e.$Message.error({content:e.$t("messages.fail"),duration:8});case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},v=(r(665),r(9)),component=Object(v.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoading?r("GLoading"):r("div",[r("GBreadCrumb",{attrs:{names:[e.formData.json["full_name_"+e.language]]}}),e._v(" "),r("Card",{attrs:{"dis-hover":"",bordered:!1}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.isNew?e.$t("button.new"):e.$t("button.edit"))+e._s(e.$t("info.resident.label.resident_info"))+"\n      ")]),e._v(" "),r("Card",{attrs:{"dis-hover":"",bordered:!1}},[r("Row",{attrs:{type:"flex",justify:"center",gutter:20}},[r("Col",{attrs:{xs:24,sm:24}},[r("Form",{ref:"form",attrs:{model:e.formData.json,"label-position":"top"}},[r("Row",{attrs:{type:"flex",justify:"center",gutter:20}},[r("Col",{attrs:{span:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"profile_image",label:e.$t("form.resident.label.profile_image")}},[r("GUpload",{attrs:{"field-key":"profile_image"},on:{updateParentValue:e.updateFormData},model:{value:e.formData.json.profile_image,callback:function(t){e.$set(e.formData.json,"profile_image",t)},expression:"formData.json.profile_image"}})],1)],1)],1),e._v(" "),r("Tabs",{attrs:{type:"card"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[r("TabPane",{attrs:{label:e.personalInfo,name:"personalInfo"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"personalInfo"===e.currentTab,expression:"currentTab === 'personalInfo'"}]},[r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"language",label:e.$t("form.resident.label.language"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.language")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Select",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.language")},model:{value:e.formData.json.language,callback:function(t){e.$set(e.formData.json,"language",t)},expression:"formData.json.language"}},[r("Option",{attrs:{value:"en"}},[e._v(e._s(e.$t("language.english")))]),e._v(" "),r("Option",{attrs:{value:"th"}},[e._v(e._s(e.$t("language.thai")))])],1)],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"juristic_person",label:e.$t("form.resident.label.juristic_person"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.juristic_person")+e.$t("error.cannot_be_blank")))}}]}},[r("Select",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.juristic_person")},model:{value:e.formData.json.juristic_person,callback:function(t){e.$set(e.formData.json,"juristic_person",t)},expression:"formData.json.juristic_person"}},[r("Option",{attrs:{value:"yes"}},[e._v(e._s(e.$t("pages.yes")))]),e._v(" "),r("Option",{attrs:{value:"no"}},[e._v(e._s(e.$t("pages.no")))])],1)],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"customer_code",label:e.$t("form.resident.label.customer_id"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.customer_id")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.customer_id")},model:{value:e.formData.json.customer_code,callback:function(t){e.$set(e.formData.json,"customer_code",t)},expression:"formData.json.customer_code"}})],1)],1)],1),e._v(" "),e.isNew?r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"mb-0 font-weight-bold",attrs:{prop:"asset_label",label:e.$t("form.resident.label.unit"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?r.length<3?(e.triggerErrorTab("personalInfo"),n(e.$t("error.must_be_at_least",{text:e.$t("form.resident.label.unit"),number:3}))):e.formData.json.asset_id?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("messages.please_select"))):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.unit")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("AutoComplete",{class:e.units.length>10?"auto-complete-unit":"",attrs:{filterable:"",clearable:"",placeholder:e.$t("form.resident.placeholder.unit")},on:{"on-select":e.onSelect,"on-change":e.searchUnit},model:{value:e.formData.json.asset_label,callback:function(t){e.$set(e.formData.json,"asset_label",t)},expression:"formData.json.asset_label"}},e._l(e.units,(function(t){return r("Option",{key:t.value,attrs:{value:t.label}},[e.projectType?r("div",[r("Row",[r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.unit_number"))+":\n                                    "+e._s(t.assetNumber)+"\n                                  ")]),e._v(" "),r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.floor"))+":\n                                    "+e._s(t.floor)+"\n                                  ")])],1),e._v(" "),r("Row",[r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.address"))+":\n                                    "+e._s(t.address)+"\n                                  ")]),e._v(" "),r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.building"))+":\n                                    "+e._s(t.building)+"\n                                  ")])],1)],1):r("div",[r("Row",[r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.asset_model"))+":\n                                    "+e._s(t.assetModel)+"\n                                  ")]),e._v(" "),r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.phase"))+":\n                                    "+e._s(t.phase)+"\n                                  ")])],1),e._v(" "),r("Row",[r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.address"))+":\n                                    "+e._s(t.address)+"\n                                  ")]),e._v(" "),r("Col",{staticClass:"white-space-normal",attrs:{span:"12"}},[e._v("\n                                    "+e._s(e.$t("info.unit.label.asset_type"))+":\n                                    "+e._s(t.unitType)+"\n                                  ")])],1)],1)])})),1)],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{label:e.$t("form.resident.label.member_type"),prop:"role",rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.member_type")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Select",{attrs:{filterable:"",placeholder:e.$t("form.resident.placeholder.member_type")},model:{value:e.formData.json.role,callback:function(t){e.$set(e.formData.json,"role",t)},expression:"formData.json.role"}},e._l(e.roles,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label[e.$store.state.language.value]))])})),1)],1)],1)],1):e._e(),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"title_translations.th",label:e.$t("form.resident.label.title_th"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.title_th")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("GTitleForm",{attrs:{"default-title":e.formData.json.title_translations,language:"th","field-key":"title_translations"},on:{triggerErrorTab:e.triggerErrorTab,updateParentValue:e.updateFormData}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"first_name_translations.th",label:e.$t("form.resident.label.first_name_th"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.first_name_th")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.first_name_th")},model:{value:e.formData.json.first_name_translations.th,callback:function(t){e.$set(e.formData.json.first_name_translations,"th",t)},expression:"formData.json.first_name_translations.th"}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"last_name_translations.th",label:e.$t("form.resident.label.last_name_th"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.last_name_th")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.last_name_th")},model:{value:e.formData.json.last_name_translations.th,callback:function(t){e.$set(e.formData.json.last_name_translations,"th",t)},expression:"formData.json.last_name_translations.th"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"title_translations.en",label:e.$t("form.resident.label.title_en"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.title_en")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("GTitleForm",{attrs:{"field-key":"title_translations","default-title":e.formData.json.title_translations,language:"en"},on:{updateParentValue:e.updateFormData}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"first_name_translations.en",label:e.$t("form.resident.label.first_name_en"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.first_name_en")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.first_name_en")},model:{value:e.formData.json.first_name_translations.en,callback:function(t){e.$set(e.formData.json.first_name_translations,"en",t)},expression:"formData.json.first_name_translations.en"}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"last_name_translations.en",label:e.$t("form.resident.label.last_name_en"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.last_name_en")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.last_name_en")},model:{value:e.formData.json.last_name_translations.en,callback:function(t){e.$set(e.formData.json.last_name_translations,"en",t)},expression:"formData.json.last_name_translations.en"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"display_name",label:e.$t("form.resident.label.display_name"),rules:[{required:!0,message:this.$t("form.resident.label.display_name")+" "+this.$t("error.cannot_be_blank"),trigger:"change,blur"}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.display_name")},model:{value:e.formData.json.display_name,callback:function(t){e.$set(e.formData.json,"display_name",t)},expression:"formData.json.display_name"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"nickname",label:e.$t("form.resident.label.nickname")}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.nickname")},model:{value:e.formData.json.nickname,callback:function(t){e.$set(e.formData.json,"nickname",t)},expression:"formData.json.nickname"}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"gender",label:e.$t("form.resident.label.gender")}},[r("Select",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.gender")},model:{value:e.formData.json.gender,callback:function(t){e.$set(e.formData.json,"gender",t)},expression:"formData.json.gender"}},[r("Option",{attrs:{value:"male"}},[e._v(e._s(e.$t("gender.male")))]),e._v(" "),r("Option",{attrs:{value:"female"}},[e._v(e._s(e.$t("gender.female")))])],1)],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"date_of_birth",label:e.$t("form.resident.label.date_of_birth")}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{format:"dd/MM/yyyy",type:"date",placeholder:e.$t("form.resident.placeholder.date_of_birth")},model:{value:e.formData.json.date_of_birth,callback:function(t){e.$set(e.formData.json,"date_of_birth",t)},expression:"formData.json.date_of_birth"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"nationality",label:e.$t("form.resident.label.nationality")}},[r("GNationalityForm",{attrs:{"form-key":"nationality","rule-key":"nationality","default-data":e.formData.json.nationality,label:e.$t("form.user.label.nationality"),placeholder:e.$t("form.resident.placeholder.nationality")},on:{updateParentValue:e.updateFormData}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"race",label:e.$t("form.resident.label.race")}},[r("GNationalityForm",{attrs:{"form-key":"race","default-data":e.formData.json.race,label:e.$t("form.resident.label.race"),placeholder:e.$t("form.resident.placeholder.race")},on:{updateParentValue:e.updateFormData}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:8}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"marital_status",label:e.$t("form.resident.label.marital_status")}},[r("Select",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.marital_status")},model:{value:e.formData.json.marital_status,callback:function(t){e.$set(e.formData.json,"marital_status",t)},expression:"formData.json.marital_status"}},e._l(e.maritalStatus,(function(t){return r("Option",{key:t.key,attrs:{value:t.key}},[e._v("\n                              "+e._s(e.$t("marital_status."+t.key))+"\n                            ")])})),1)],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"customer_type",label:e.$t("form.resident.label.customer_type"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("personalInfo",!1),n()):(e.triggerErrorTab("personalInfo"),n(e.$t("form.resident.label.customer_type")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("GCustomerTypeForm",{attrs:{"default-type":e.formData.json.customer_type,"field-key":"customer_type"},on:{updateParentValue:e.updateFormData}})],1)],1),e._v(" "),r("Col",{attrs:{md:8,sm:8,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"ref_code",label:e.$t("form.resident.label.ref_code")}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.ref_code")},model:{value:e.formData.json.ref_code,callback:function(t){e.$set(e.formData.json,"ref_code",t)},expression:"formData.json.ref_code"}})],1)],1)],1)],1)]),e._v(" "),r("TabPane",{attrs:{label:e.identification,name:"identification"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"identification"===e.currentTab,expression:"currentTab === 'identification'"}]},[r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:24,sm:24,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{label:e.$t("messages.are_you_foreigner")}},[r("RadioGroup",{staticStyle:{"font-weight":"normal"},model:{value:e.isForeigner,callback:function(t){e.isForeigner=t},expression:"isForeigner"}},[r("Radio",{attrs:{label:"yes"}},[r("span",[e._v(e._s(e.$t("button.yes")))])]),e._v(" "),r("Radio",{attrs:{label:"no"}},[r("span",[e._v(e._s(e.$t("button.no")))])])],1)],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"thai_id_number",label:e.$t("form.resident.label.thai_id_number"),rules:"no"===e.isForeigner?[{required:!0,trigger:"blur,change",validator:function(t,r,n){if(r)if(e.verifyIdCard(r)){e.triggerErrorTab("identification"),n(e.$t("form.resident.label.thai_id_number")+e.$t("error.is_not_valid"))}else e.triggerErrorTab("identification",!1),n();else e.triggerErrorTab("identification"),n(e.$t("form.resident.label.thai_id_number")+e.$t("error.cannot_be_blank"))}}]:[{}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.thai_id_number")},model:{value:e.formData.json.thai_id_number,callback:function(t){e.$set(e.formData.json,"thai_id_number",t)},expression:"formData.json.thai_id_number"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"issue_at",label:e.$t("form.resident.label.issue_at")}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.issue_at")},model:{value:e.formData.json.issue_at,callback:function(t){e.$set(e.formData.json,"issue_at",t)},expression:"formData.json.issue_at"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"passport_number",label:e.$t("form.resident.label.passport_number"),rules:"yes"===e.isForeigner?[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("identification",!1),n()):(e.triggerErrorTab("identification"),n(e.$t("form.resident.label.passport_number")+e.$t("error.cannot_be_blank")))}}]:[{}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.passport_number")},model:{value:e.formData.json.passport_number,callback:function(t){e.$set(e.formData.json,"passport_number",t)},expression:"formData.json.passport_number"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"passport_country",label:e.$t("form.resident.label.passport_country")}},[r("GNationalityForm",{attrs:{"form-key":"passport_country","default-data":e.formData.json.passport_country,placeholder:e.$t("form.resident.placeholder.passport_country")},on:{updateParentValue:e.updateFormData}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{xs:24,md:12,sm:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"issue_date",label:e.$t("form.resident.label.issue_date")}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{format:"dd/MM/yyyy",type:"date",placeholder:e.$t("form.resident.placeholder.issue_date")},model:{value:e.formData.json.issue_date,callback:function(t){e.$set(e.formData.json,"issue_date",t)},expression:"formData.json.issue_date"}})],1)],1),e._v(" "),r("Col",{attrs:{xs:24,md:12,sm:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"expire_date",label:e.$t("form.resident.label.expire_date")}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{format:"dd/MM/yyyy",type:"date",placeholder:e.$t("form.resident.placeholder.expire_date")},model:{value:e.formData.json.expire_date,callback:function(t){e.$set(e.formData.json,"expire_date",t)},expression:"formData.json.expire_date"}})],1)],1)],1),e._v(" "),r("Row",{staticClass:"mb-26"},[r("Col",{attrs:{span:24}},[e._v("\n                        "+e._s(e.$t("pages.addresses"))+"\n                      ")]),e._v(" "),r("Col",{attrs:{span:24}},[r("Row",{attrs:{gutter:5}},e._l(e.addressKey.permanent,(function(a){return r("Col",{key:"address_"+a,staticClass:"mt-5",attrs:{md:24,lg:12}},[r("Collapse",[r("Panel",{attrs:{name:a}},[e._v("\n                                "+e._s(e.$t("info.address.label."+a))+"\n                                "),r("span",{attrs:{slot:"content"},slot:"content"},[r("GAddressForm",{attrs:{"default-data":e.address[a]},on:{setAddressDefault:function(t){return e.setAddressDefault(a)},updateAddressParams:function(data){return e.updateAddressParams(data,a)}}})],1)])],1)],1)})),1),e._v(" "),r("Row",{attrs:{gutter:5}},e._l(e.addressKey.current,(function(a,t){return r("Col",{key:"address_"+a+"_"+t,staticClass:"mt-5",attrs:{md:24,lg:12}},[r("Collapse",[r("Panel",{attrs:{name:a}},[e._v("\n                                "+e._s(e.$t("info.address.label."+a))+"\n                                "),r("span",{attrs:{slot:"content"},slot:"content"},[r("GAddressForm",{attrs:{"has-default-data":"","default-data":e.address[a],"set-address-default-data":e.setDefaultData[a]},on:{updateDefaultData:function(t){e.fetchAddess(a),e.setDefaultData[a]=t},updateAddressParams:function(data){return e.updateAddressParams(data,a)}}})],1)])],1)],1)})),1)],1)],1)],1)]),e._v(" "),r("TabPane",{attrs:{label:e.contact,name:"contact"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"contact"===e.currentTab,expression:"currentTab === 'contact'"}]},[r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:24,sm:24,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"email",label:e.$t("form.resident.label.email"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("contact",!1),n()):(e.triggerErrorTab("contact"),n(e.$t("form.resident.label.email")+" "+e.$t("error.cannot_be_blank")))}}]}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.email")},model:{value:e.formData.json.email,callback:function(t){e.$set(e.formData.json,"email",t)},expression:"formData.json.email"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"mobile_primary",label:e.$t("form.resident.label.mobile_primary"),rules:[{required:!0,trigger:"blur,change",validator:function(t,r,n){r?(e.triggerErrorTab("contact",!1),n()):(e.triggerErrorTab("contact"),n(e.$t("form.resident.label.mobile_primary")+" "+e.$t("error.cannot_be_blank")))}}]}},[e.isNew?r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("GCountryCodeForm",{attrs:{"form-key":"mobile_primary","default-data":e.phone.mobile_primary,placeholder:e.$t("form.user.placeholder.country_code")},on:{updateParentValue:e.updatePhoneFormData}})],1),e._v(" "),r("Col",{attrs:{md:16,sm:16,xs:16}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.mobile_primary")},model:{value:e.formData.json.mobile_primary,callback:function(t){e.$set(e.formData.json,"mobile_primary",t)},expression:"formData.json.mobile_primary"}})],1)],1):r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.mobile_primary")},model:{value:e.formData.json.mobile_primary,callback:function(t){e.$set(e.formData.json,"mobile_primary",t)},expression:"formData.json.mobile_primary"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"mobile_secondary",label:e.$t("form.resident.label.mobile_secondary")}},[e.isNew?r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("GCountryCodeForm",{attrs:{"form-key":"mobile_secondary","default-data":e.phone.mobile_secondary,placeholder:e.$t("form.user.placeholder.country_code")},on:{updateParentValue:e.updatePhoneFormData}})],1),e._v(" "),r("Col",{attrs:{md:16,sm:16,xs:16}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.mobile_secondary")},model:{value:e.formData.json.mobile_secondary,callback:function(t){e.$set(e.formData.json,"mobile_secondary",t)},expression:"formData.json.mobile_secondary"}})],1)],1):r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.mobile_secondary")},model:{value:e.formData.json.mobile_secondary,callback:function(t){e.$set(e.formData.json,"mobile_secondary",t)},expression:"formData.json.mobile_secondary"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"telephone",label:e.$t("form.resident.label.telephone")}},[e.isNew?r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("GCountryCodeForm",{attrs:{"form-key":"telephone","default-data":e.phone.telephone,placeholder:e.$t("form.user.placeholder.country_code")},on:{updateParentValue:e.updatePhoneFormData}})],1),e._v(" "),r("Col",{attrs:{md:16,sm:16,xs:16}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.telephone")},model:{value:e.formData.json.telephone,callback:function(t){e.$set(e.formData.json,"telephone",t)},expression:"formData.json.telephone"}})],1)],1):r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.telephone")},model:{value:e.formData.json.telephone,callback:function(t){e.$set(e.formData.json,"telephone",t)},expression:"formData.json.telephone"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:12}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"telephone_oversea",label:e.$t("form.resident.label.telephone_oversea")}},[e.isNew?r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:8,sm:8,xs:8}},[r("GCountryCodeForm",{attrs:{"form-key":"telephone_oversea","default-data":e.phone.telephone_oversea,placeholder:e.$t("form.user.placeholder.country_code")},on:{updateParentValue:e.updatePhoneFormData}})],1),e._v(" "),r("Col",{attrs:{md:16,sm:16,xs:16}},[r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.telephone_oversea")},model:{value:e.formData.json.telephone_oversea,callback:function(t){e.$set(e.formData.json,"telephone_oversea",t)},expression:"formData.json.telephone_oversea"}})],1)],1):r("Input",{attrs:{type:"text",placeholder:e.$t("form.resident.placeholder.telephone_oversea")},model:{value:e.formData.json.telephone_oversea,callback:function(t){e.$set(e.formData.json,"telephone_oversea",t)},expression:"formData.json.telephone_oversea"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"facebook",label:"Facebook"}},[r("Input",{attrs:{type:"text",placeholder:"facebook"},model:{value:e.formData.json.facebook,callback:function(t){e.$set(e.formData.json,"facebook",t)},expression:"formData.json.facebook"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"line",label:"Line"}},[r("Input",{attrs:{type:"text",placeholder:"line"},model:{value:e.formData.json.line,callback:function(t){e.$set(e.formData.json,"line",t)},expression:"formData.json.line"}})],1)],1)],1),e._v(" "),r("Row",{attrs:{gutter:5}},[r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"wechat",label:"Wechat"}},[r("Input",{attrs:{type:"text",placeholder:"wechat"},model:{value:e.formData.json.wechat,callback:function(t){e.$set(e.formData.json,"wechat",t)},expression:"formData.json.wechat"}})],1)],1),e._v(" "),r("Col",{attrs:{md:12,sm:12,xs:24}},[r("FormItem",{staticClass:"font-weight-bold",attrs:{prop:"whatsapp",label:"Whatsapp"}},[r("Input",{attrs:{type:"text",placeholder:"whatsapp"},model:{value:e.formData.json.whatsapp,callback:function(t){e.$set(e.formData.json,"whatsapp",t)},expression:"formData.json.whatsapp"}})],1)],1)],1)],1)])],1),e._v(" "),r("FormItem",{attrs:{align:"center"}},[r("Button",{staticClass:"default-button button-grey",attrs:{to:{name:"projects-projectId-resident_managements",params:{projectId:e.$route.params.projectId}}}},[e._v("\n                  "+e._s(e.$t("button.cancel"))+"\n                ")]),e._v(" "),r("Button",{staticClass:"default-button button-green",attrs:{loading:e.loading},on:{click:function(t){return e.handleSubmit()}}},[e._v("\n                  "+e._s(e.$t("button.save"))+"\n                ")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);