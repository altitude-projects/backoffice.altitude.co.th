(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{418:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));r(21),r(15),r(18),r(32),r(33);var n=r(4),o=r(7),c=r(30),l=r(31),d=(r(16),r(25),r(3)),m=r(6),f=r(5);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.json=h(h({},t),{},{content_translations:t.content_translations||{th:"",en:""},description_translations:t.description_translations||{th:"",en:""},project_ids:t.project_ids||[],limit:t.limit||1})}var t,r,o,v,_;return Object(l.a)(e,[{key:"save",value:(_=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,r=Object(f.e)(this.json,"privilege"),!this.json.id){e.next=8;break}return e.next=5,Object(m.d)("patch",Object(m.e)(m.a,"privileges/".concat(this.json.id)),{data:r,headers:Object(m.c)(!0)});case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Object(m.d)("post",Object(m.e)(m.a,"privileges"),{data:r,headers:Object(m.c)(!0)});case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"activate",value:(v=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)("patch",Object(m.e)(m.a,"privileges/".concat(t,"/activate")),{headers:Object(m.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"inactivate",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)("patch",Object(m.e)(m.a,"privileges/".concat(t,"/inactivate")),{headers:Object(m.c)(!0)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"asTableJson",value:function(){return{id:this.json.id,no:this.json.no,name:this.json.name,start_datetime:Object(f.h)(this.json.start_datetime),end_datetime:Object(f.h)(this.json.end_datetime),redeemed:this.json.redemption_count,available:this.json.limit-this.json.redemption_count,limit:this.json.limit,status:this.json.status}}}],[{key:"index",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(r,n,o){var c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)("get",Object(m.e)(m.a,"privileges"),{headers:Object(m.c)(!0),params:{page:r,per_page:n,search:o}});case 2:if(200!==(c=t.sent).status){t.next=6;break}return l=Object(d.map)(c.data.privileges,(function(t,r){return new e(t)})),t.abrupt("return",{privileges:l,total_count:c.data.total_count});case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"show",value:(t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)("get",Object(m.e)(m.a,"privileges/".concat(r)),{headers:Object(m.c)(!0)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new e(n.data.privilege));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}()},524:function(e,t,r){var content=r(650);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("1ecdae0b",content,!0,{sourceMap:!1})},649:function(e,t,r){"use strict";r(524)},650:function(e,t,r){var n=r(22)(!1);n.push([e.i,"[data-v-144bcc29] .ivu-card-bordered{border:0!important}[data-v-144bcc29] .ivu-input-wrapper{text-align:right}[data-v-144bcc29] .ivu-input-word-count,[data-v-144bcc29] .ivu-picker-panel-body,[data-v-144bcc29] .ivu-select-selection,[data-v-144bcc29] .ivu-select .ivu-select-dropdown{font-weight:400}",""]),e.exports=n},695:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(25),r(16),r(11),r(3)),c=r(418),l=(r(21),r(15),r(18),r(32),r(33),r(7)),d=r(30),m=r(31),f=r(6),v=r(5);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(d.a)(this,e),this.json=_(_({},t),{},{codes:t.codes||""})}var t,r;return Object(m.a)(e,[{key:"save",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.e)(this.json,"privilegeCode"),e.next=3,Object(f.d)("post",Object(f.e)(f.a,"privileges/".concat(t,"/privilege_codes")),{data:r,headers:Object(f.c)(!0)});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],[{key:"index",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)("get",Object(f.e)(f.a,"privileges/".concat(t,"/privilege_codes")),{headers:Object(f.c)(!0)});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),y=r(82),O={props:{isNew:{type:Boolean,default:!1}},data:function(){var e=this;return{formData:new c.a,isLoading:!1,contents:function(t){return t("div",[t("span",e.$t("info.privilege.label.contents"))])},conditions:function(t){return t("div",[t("span",e.$t("info.privilege.label.conditions"))])},codes:function(t){return t("div",[t("span",e.$t("info.privilege.label.codes"))])},projects:[],projectsColumns:[],checkProjectAll:!1,redemptionCode:new j,visibleModalCode:!1,rules:{name:{validator:this.validator,trigger:"blur,change",name:"name",required:!0,tab:"contents"},"content_translations.th":{validator:this.validator,trigger:"blur,change",name:"content_translations_th",required:!0,tab:"contents"},"content_translations.en":{validator:this.validator,trigger:"blur,change",name:"content_translations_en",required:!0,tab:"contents"},limit:{trigger:"blur,change",name:"limit",required:!0,type:"number",tab:"conditions"},code_type:{validator:this.validator,trigger:"blur,change",name:"code_type",required:!0,tab:"conditions"},allocation_type:{validator:this.validator,trigger:"blur,change",name:"redemption_type",required:!0,tab:"conditions"},resident_type_json:{validator:this.validator,trigger:"blur,change",name:"resident_type_json",required:!0,tab:"conditions"},end_datetime:{validator:this.validator,trigger:"blur,change",name:"end_datetime",tab:"conditions"}},checkError:{contents:{},conditions:{}},currentTab:"contents",privilegeTypes:[{label:"All Residence Privilege",value:"all_project"},{label:"Privilege by Project",value:"by_project"}],codeTypes:[{label:"One Code",value:"one_code"},{label:"Unique Code",value:"unique"}],redemptionTypes:[{label:"One Time Per Unit",value:"per_asset"},{label:"One Time Per User",value:"per_user"}],userTypes:[{label:"Owner",value:"owner"},{label:"Family",value:"family"},{label:"Tenant",value:"tenant"}]}},computed:{projectId:function(){return this.$route.params.projectId},privilegeId:function(){return this.$route.params.privilegeId},language:function(){return this.$store.state.language.value}},watch:{language:function(){this.$store.state.isSelectLanguage&&this.$nextTick((function(){this.$refs.form&&this.$refs.form.validate()}))}},mounted:function(){this.isNew||this.fetchRedemption()},methods:{onChangeTab:function(){"conditions"!==this.currentTab||this.projects.length||this.fetchProjects()},validator:function(e,t,r){(Object(o.isNumber)(t)?!t:Object(o.isEmpty)(t))&&"end_datetime"!==e.name?(this.triggerErrorTab(e.name,e.tab,!0),r(this.$t("form.privilege.label.".concat(e.name))+" "+this.$t("error.cannot_be_blank"))):t<this.formData.json.start_datetime?(this.triggerErrorTab(e.name,e.tab,!0),r(this.$t("form.privilege.label.end_datetime")+" "+this.$t("error.cannot_less_than")+this.$t("form.privilege.label.start_datetime"))):(this.triggerErrorTab(e.name,e.tab,!1),r())},closeModalCode:function(){this.redemptionCode.json.codes="",this.visibleModalCode=!1},handleCheckAllProject:function(){this.checkProjectAll=!this.checkProjectAll,this.checkProjectAll?(this.formData.json.project_ids=Object(o.map)(this.projects,"id"),this.formData.json.distribution_type="all_project"):(this.formData.json.project_ids=[this.projectId],this.formData.json.distribution_type="by_project")},checkAllGroupChange:function(data){data.length===this.projects.length?(this.checkProjectAll=!0,this.formData.json.distribution_type="all_project"):(data.length>0&&(this.formData.json.distribution_type="by_project"),this.checkProjectAll=!1)},fetchRedemption:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.show(e.privilegeId);case 3:e.formData=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},fetchProjects:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,y.a.projectsForSelect();case 3:e.projects=t.sent,e.projectsColumns=Object(o.chunk)(e.projects,Math.round(e.projects.length/3)),"all_project"===e.formData.json.distribution_type?(e.formData.json.project_ids=Object(o.map)(e.projects,"id"),e.checkProjectAll=!0):(e.formData.json.project_ids=[e.projectId],e.formData.json.distribution_type="by_project"),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},handleSubmit:function(text){var e=this;return new Promise((function(t){e.$Modal.confirm({title:e.$t("messages.confirm_save"),okText:e.$t("button.yes"),cancelText:e.$t("button.no"),onOk:function(){"privilege_code"===text?e.savePrivilegeCode():e.submitForm()}})}))},savePrivilegeCode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.redemptionCode.save(e.privilegeId);case 2:(r=t.sent).data.success?(e.$Message.success({content:e.$t("messages.successfully_created"),duration:3}),e.fetchRedemption()):r.data.details.privilege_id?(n=Object(o.snakeCase)(r.data.details.privilege_id[0]),e.$Message.error({content:e.$t("info.privilege.label.codes")+e.$t("error."+n),duration:8})):e.$Message.error({content:e.$t("messages.fail"),duration:8}),e.closeModalCode();case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.isLoading=!0,t.next=4,e.formData.save(e.projectId);case 4:(o=t.sent).data&&o.data.success?(e.$Message.success({content:"".concat(e.$t("messages.success")),duration:3}),e.isNew?e.$router.push({name:"projects-projectId-privileges-privilegeId-show",params:{projectId:e.projectId,privilegeId:o.data.privilege.id}}):e.$router.back()):o.data.error?e.$Message.error({content:o.data.error,duration:8}):e.$Message.error({content:e.$t("messages.fail"),duration:8});case 6:e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},triggerErrorTab:function(e,t,r){var n=this;this.checkError[t][e]=this.checkError[t][e]||0,r&&this.checkError[t][e]<1?this.checkError[t][e]++:!r&&this.checkError[t][e]>0&&this.checkError[t][e]--;var c=Object(o.snakeCase)(t);this[t]=function(e){return e("div",[e("span",{style:{color:n.checkFieldError(t)?"#ed4014":"#515a6e"}},n.$t("info.privilege.label."+c))])}},checkFieldError:function(e){return Object(o.reduce)(this.checkError[e],(function(e,t){return e+t}))},convertStatus:function(e){return"available"===e?this.$t("form.privilege.label.available"):this.$t("form.privilege.label.redeemed")}}},k=(r(649),r(9)),component=Object(k.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoading?r("GLoading"):r("div",[r("GBreadCrumb",{attrs:{names:[e.formData.json.name]}}),e._v(" "),r("Card",{attrs:{bordered:!1,"dis-hover":"",padding:20}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n      "+e._s(e.isNew?e.$t("button.new"):e.$t("button.edit"))+e._s(e.$t("pages.privilege"))+"\n    ")]),e._v(" "),r("Card",{attrs:{bordered:!1,"dis-hover":""}},[r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"24"}},[r("Form",{ref:"form",attrs:{model:e.formData.json,rules:e.rules,"label-position":"top","label-colon":""}},[r("Tabs",{style:"contents"===e.currentTab?"max-height: 85vh; overflow: hidden":"overflow-x: hidden;",attrs:{type:"card",size:"small"},on:{"on-click":e.onChangeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[r("TabPane",{attrs:{label:e.contents,name:"contents"}},[r("Row",{staticClass:"font-weight-bold",attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"20"}},[r("FormItem",{attrs:{label:e.$t("form.privilege.label.name"),prop:"name"}},[r("Input",{attrs:{placeholder:e.$t("form.privilege.placeholder.name"),maxlength:"200","show-word-limit":""},model:{value:e.formData.json.name,callback:function(t){e.$set(e.formData.json,"name",t)},expression:"formData.json.name"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.content_translations_th"),prop:"content_translations.th"}},[r("Input",{attrs:{placeholder:e.$t("form.privilege.placeholder.content_translations_th"),maxlength:"200","show-word-limit":""},model:{value:e.formData.json.content_translations.th,callback:function(t){e.$set(e.formData.json.content_translations,"th",t)},expression:"formData.json.content_translations.th"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.content_translations_en"),prop:"content_translations.en"}},[r("Input",{attrs:{placeholder:e.$t("form.privilege.placeholder.content_translations_en"),maxlength:"200","show-word-limit":""},model:{value:e.formData.json.content_translations.en,callback:function(t){e.$set(e.formData.json.content_translations,"en",t)},expression:"formData.json.content_translations.en"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.description_translations_th"),prop:"description_translations.th"}},[r("Input",{attrs:{placeholder:e.$t("form.privilege.placeholder.description_translations_th"),type:"textarea",maxlength:"400","show-word-limit":""},model:{value:e.formData.json.description_translations.th,callback:function(t){e.$set(e.formData.json.description_translations,"th",t)},expression:"formData.json.description_translations.th"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.description_translations_en"),prop:"description_translations.en"}},[r("Input",{attrs:{placeholder:e.$t("form.privilege.placeholder.description_translations_en"),type:"textarea",maxlength:"400","show-word-limit":""},model:{value:e.formData.json.description_translations.en,callback:function(t){e.$set(e.formData.json.description_translations,"en",t)},expression:"formData.json.description_translations.en"}})],1)],1)],1)],1),e._v(" "),r("TabPane",{attrs:{label:e.conditions,name:"conditions"}},[r("Row",{staticClass:"font-weight-bold",attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"20"}},[r("FormItem",{attrs:{label:e.$t("form.privilege.label.privilege_type"),prop:"distribution_type"}},[r("Select",{attrs:{placeholder:e.$t("form.privilege.placeholder.privilege_type"),disabled:""},model:{value:e.formData.json.distribution_type,callback:function(t){e.$set(e.formData.json,"distribution_type",t)},expression:"formData.json.distribution_type"}},e._l(e.privilegeTypes,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.redemption_type"),prop:"allocation_type"}},[r("Select",{attrs:{placeholder:e.$t("form.privilege.placeholder.redemption_type")},model:{value:e.formData.json.allocation_type,callback:function(t){e.$set(e.formData.json,"allocation_type",t)},expression:"formData.json.allocation_type"}},e._l(e.redemptionTypes,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.user_type"),prop:"resident_type_json"}},[r("Select",{attrs:{multiple:"",placeholder:e.$t("form.privilege.placeholder.user_type")},model:{value:e.formData.json.resident_type_json,callback:function(t){e.$set(e.formData.json,"resident_type_json",t)},expression:"formData.json.resident_type_json"}},e._l(e.userTypes,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),r("Row",{staticClass:"font-weight-bold",attrs:{type:"flex",gutter:60}},[r("Col",{attrs:{span:"12"}},[r("FormItem",{attrs:{label:e.$t("form.privilege.label.start_datetime"),prop:"start_datetime"}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("form.privilege.placeholder.start_datetime")},model:{value:e.formData.json.start_datetime,callback:function(t){e.$set(e.formData.json,"start_datetime",t)},expression:"formData.json.start_datetime"}})],1)],1),e._v(" "),r("Col",{attrs:{span:"12"}},[r("FormItem",{attrs:{label:e.$t("form.privilege.label.end_datetime"),prop:"end_datetime"}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("form.privilege.placeholder.end_datetime")},model:{value:e.formData.json.end_datetime,callback:function(t){e.$set(e.formData.json,"end_datetime",t)},expression:"formData.json.end_datetime"}})],1)],1)],1),e._v(" "),e.isNew?r("FormItem",{attrs:{label:e.$t("form.privilege.label.code_type"),prop:"code_type"}},[r("Select",{attrs:{placeholder:e.$t("form.privilege.placeholder.code_type")},model:{value:e.formData.json.code_type,callback:function(t){e.$set(e.formData.json,"code_type",t)},expression:"formData.json.code_type"}},e._l(e.codeTypes,(function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.limit"),prop:"limit"}},[r("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("form.privilege.placeholder.limit"),max:9999},model:{value:e.formData.json.limit,callback:function(t){e.$set(e.formData.json,"limit",t)},expression:"formData.json.limit"}})],1),e._v(" "),r("FormItem",{attrs:{label:e.$t("form.privilege.label.select_project"),prop:"project_id"}},[r("span",{staticStyle:{"font-weight":"normal"}},[r("div",{staticClass:"pb-6 mb-6",staticStyle:{"border-bottom":"1px solid #e9e9e9"}},[r("Checkbox",{attrs:{indeterminate:!1,value:e.checkProjectAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAllProject(t)}}},[e._v("\n                            "+e._s(e.$t("form.announcement.label.all_project"))+"\n                          ")])],1),e._v(" "),r("CheckboxGroup",{on:{"on-change":e.checkAllGroupChange},model:{value:e.formData.json.project_ids,callback:function(t){e.$set(e.formData.json,"project_ids",t)},expression:"formData.json.project_ids"}},[r("Row",{attrs:{type:"flex"}},e._l(e.projectsColumns,(function(t,i){return r("Col",{key:i,attrs:{xs:24,sm:12,md:12,xl:8}},e._l(t,(function(t){return r("p",{key:t.id},[r("Checkbox",{attrs:{label:t.id,disabled:t.id===e.$route.params.projectId}},[e._v("\n                                  "+e._s(t.project_code)+" -\n                                  "+e._s(t.name_translations[e.$store.state.language.value])+"\n                                ")])],1)})),0)})),1)],1)],1)])],1)],1)],1),e._v(" "),e.isNew?e._e():r("TabPane",{attrs:{label:e.codes,name:"codes"}},[r("Select",{attrs:{placeholder:e.$t("form.privilege.placeholder.code_type"),disabled:""},model:{value:e.formData.json.code_type,callback:function(t){e.$set(e.formData.json,"code_type",t)},expression:"formData.json.code_type"}},e._l(e.codeTypes,(function(t,n){return r("Option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1),e._v(" "),r("Button",{staticClass:"mt-10",on:{click:function(t){e.visibleModalCode=!0}}},[e._v("\n                  "+e._s(e.$t("form.privilege.label.input_code"))+"\n                ")]),e._v(" "),e.formData.json.privilege_codes&&e.formData.json.privilege_codes.length>0?r("Card",{attrs:{"dis-hover":"",padding:20}},[r("GIndexPage",{attrs:{items:e.formData.json.privilege_codes,"show-sizer":"","hide-search":"","page-size":10,component:"GPrivilegeCodeTable"}})],1):e._e(),e._v(" "),r("Modal",{attrs:{width:"60%","max-height":"600px","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:e.visibleModalCode,callback:function(t){e.visibleModalCode=t},expression:"visibleModalCode"}},[r("Row",{attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{span:"17"}},[r("h3",[e._v(e._s(e.$t("form.privilege.label.code_header")))]),e._v(" "),r("p",[e._v(e._s(e.$t("form.privilege.label.code_content")))]),e._v(" "),r("Input",{attrs:{type:"one_code"===e.formData.json.code_type?"text":"textarea",rows:"one_code"===e.formData.json.code_type?1:10},model:{value:e.redemptionCode.json.codes,callback:function(t){e.$set(e.redemptionCode.json,"codes",t)},expression:"redemptionCode.json.codes"}})],1)],1),e._v(" "),r("Row",{staticClass:"mt-20",attrs:{type:"flex",justify:"center"}},[r("Button",{staticClass:"default-button button-grey",on:{click:e.closeModalCode}},[e._v("\n                      "+e._s(e.$t("button.cancel"))+"\n                    ")]),e._v(" "),r("Button",{staticClass:"default-button button-green",attrs:{disabled:e.redemptionCode.json.codes.length<1},on:{click:function(t){return e.handleSubmit("privilege_code")}}},[e._v("\n                      "+e._s(e.$t("button.save"))+"\n                    ")])],1)],1)],1)],1),e._v(" "),r("FormItem",{staticClass:"text-center"},[r("Button",{staticClass:"default-button button-grey",on:{click:function(t){return e.$router.back()}}},[e._v("\n                "+e._s(e.$t("button.cancel"))+"\n              ")]),e._v(" "),r("Button",{staticClass:"default-button",attrs:{type:"success"},nativeOn:{click:function(t){return e.handleSubmit(t)}}},[e._v("\n                "+e._s(e.$t("button.save"))+"\n              ")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"144bcc29",null);t.default=component.exports}}]);