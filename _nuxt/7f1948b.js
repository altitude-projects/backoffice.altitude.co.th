(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{825:function(t,e,n){"use strict";n.r(e);var r=n(5),c={props:{facilities:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){var t=this;return{currentFacility:"",facilityHistories:[],columns:[{slot:"created_at",width:160,renderHeader:function(e,n){return e("span","".concat(t.$t("info.facility.label.booking_datetime")))},align:"center"},{slot:"created_by",width:100,renderHeader:function(e,n){return e("span","".concat(t.$t("info.facility.label.created_by")))},align:"center"},{slot:"updated_at",width:100,renderHeader:function(e,n){return e("span","".concat(t.$t("info.facility.label.cancel_booking_datetime")))},align:"center"},{slot:"updated_by",width:100,renderHeader:function(e,n){return e("span","".concat(t.$t("info.facility.label.cancel_by")))},align:"center"}]}},computed:{projectId:function(){return this.$route.params.projectId},language:function(){return this.$store.state.language.value}},watch:{items:function(t){this.facilityHistories=t},facilities:function(t){t.length>0&&(this.currentFacility=t[0].id,this.fetchItems())}},mounted:function(){this.facilityHistories=this.items},methods:{fullFormatDatetime:r.i,fetchItems:function(){this.$emit("fetchFacilityHistories",this.currentFacility)}}},l=n(9),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{slot:"title"},slot:"title"},[n("h3",[t._v(t._s(t.$t("pages.booking_histories")))])]),t._v(" "),n("Row",{staticClass:"pt-10 pb-10",attrs:{type:"flex",justify:"space-between"}},[n("Col",[n("Select",{on:{"on-change":t.fetchItems},model:{value:t.currentFacility,callback:function(e){t.currentFacility=e},expression:"currentFacility"}},t._l(t.facilities,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name_translations[t.language]))])})),1)],1)],1),t._v(" "),n("Table",{attrs:{columns:t.columns,data:t.facilityHistories,loading:t.loading,"no-data-text":t.$t("pages.no_data")},scopedSlots:t._u([{key:"created_at",fn:function(e){var n=e.row;return[t._v("\n      "+t._s(t.fullFormatDatetime(n.created_at))+"\n    ")]}},{key:"created_by",fn:function(e){var n=e.row;return[t._v("\n      "+t._s(n.created_by.full_name?n.created_by.full_name:n.created_by["full_name_"+t.language])+"\n    ")]}},{key:"updated_at",fn:function(e){var r=e.row;return["cancelled"==r.status?n("span",[t._v("\n        "+t._s(t.fullFormatDatetime(r.updated_at))+"\n      ")]):t._e()]}},{key:"updated_by",fn:function(e){var r=e.row;return["cancelled"==r.status?n("span",[t._v("\n        "+t._s(r.updated_by.full_name?r.updated_by.full_name:r.updated_by["full_name_"+t.language])+"\n      ")]):t._e()]}}])})],1)}),[],!1,null,"6c6ac8ff",null);e.default=component.exports}}]);